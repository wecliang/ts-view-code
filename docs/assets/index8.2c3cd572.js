import{k as Q,q as N,bI as ys,ci as Uo,bT as we,bF as Zo,bG as at,b5 as ws,au as Fe,cj as Pe,f as J,y as Gt,bC as zn,ad as Ue,bc as bs,bx as Ss,a7 as Es,F as st,bd as Cs,ap as Os}from"./index.33c03a40.js";import"./vendor.0b417fb8.js";var xs=Object.defineProperty,Ns=Object.defineProperties,Ps=Object.getOwnPropertyDescriptors,qt=Object.getOwnPropertySymbols,Ko=Object.prototype.hasOwnProperty,Wo=Object.prototype.propertyIsEnumerable,Go=(e,t,n)=>t in e?xs(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,lt=(e,t)=>{for(var n in t||(t={}))Ko.call(t,n)&&Go(e,n,t[n]);if(qt)for(var n of qt(t))Wo.call(t,n)&&Go(e,n,t[n]);return e},Qt=(e,t)=>Ns(e,Ps(t)),_s=(e,t)=>{var n={};for(var o in e)Ko.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&qt)for(var o of qt(e))t.indexOf(o)<0&&Wo.call(e,o)&&(n[o]=e[o]);return n};const Ms=window.React.useReducer,ct=window.React.useRef,Ds=window.React.useDebugValue,ks=window.React.useEffect,$s=window.React.useLayoutEffect;function As(e){let t;const n=new Set,o=(u,c)=>{const d=typeof u=="function"?u(t):u;if(d!==t){const f=t;t=c?d:Object.assign({},t,d),n.forEach(h=>h(t,f))}},r=()=>t,i=(u,c=r,d=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let f=c(t);function h(){const g=c(t);if(!d(f,g)){const b=f;u(f=g,b)}}return n.add(h),()=>n.delete(h)},l={setState:o,getState:r,subscribe:(u,c,d)=>c||d?i(u,c,d):(n.add(u),()=>n.delete(u)),destroy:()=>n.clear()};return t=e(o,r,l),l}const zs=typeof window=="undefined"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),qo=zs?ks:$s;function Ts(e){const t=typeof e=="function"?As(e):e,n=(o=t.getState,r=Object.is)=>{const[,i]=Ms(w=>w+1,0),a=t.getState(),s=ct(a),l=ct(o),u=ct(r),c=ct(!1),d=ct();d.current===void 0&&(d.current=o(a));let f,h=!1;(s.current!==a||l.current!==o||u.current!==r||c.current)&&(f=o(a),h=!r(d.current,f)),qo(()=>{h&&(d.current=f),s.current=a,l.current=o,u.current=r,c.current=!1});const g=ct(a);qo(()=>{const w=()=>{try{const O=t.getState(),E=l.current(O);u.current(d.current,E)||(s.current=O,d.current=E,i())}catch{c.current=!0,i()}},m=t.subscribe(w);return t.getState()!==g.current&&w(),m},[]);const b=h?f:d.current;return Ds(b),b};return Object.assign(n,t),n[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const o=[n,t];return{next(){const r=o.length<=0;return{value:o.shift(),done:r}}}},n}const Bs=window.React.createContext,Rs=window.React.useRef,Is=window.React.createElement,Qo=window.React.useContext,js=window.React.useMemo;function Ls(){const e=Bs(void 0);return{Provider:({initialStore:r,createStore:i,children:a})=>{const s=Rs();return s.current||(r&&(console.warn("Provider initialStore is deprecated and will be removed in the next version."),i||(i=()=>r)),s.current=i()),Is(e.Provider,{value:s.current},a)},useStore:(r,i=Object.is)=>{const a=Qo(e);if(!a)throw new Error("Seems like you have not used zustand provider as an ancestor.");return a(r,i)},useStoreApi:()=>{const r=Qo(e);if(!r)throw new Error("Seems like you have not used zustand provider as an ancestor.");return js(()=>({getState:r.getState,setState:r.setState,subscribe:r.subscribe,destroy:r.destroy}),[r])}}}var Hs={value:()=>{}};function Jt(){for(var e=0,t=arguments.length,n={},o;e<t;++e){if(!(o=arguments[e]+"")||o in n||/[\s.]/.test(o))throw new Error("illegal type: "+o);n[o]=[]}return new en(n)}function en(e){this._=e}function Xs(e,t){return e.trim().split(/^|\s+/).map(function(n){var o="",r=n.indexOf(".");if(r>=0&&(o=n.slice(r+1),n=n.slice(0,r)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:o}})}en.prototype=Jt.prototype={constructor:en,on:function(e,t){var n=this._,o=Xs(e+"",n),r,i=-1,a=o.length;if(arguments.length<2){for(;++i<a;)if((r=(e=o[i]).type)&&(r=Ys(n[r],e.name)))return r;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++i<a;)if(r=(e=o[i]).type)n[r]=Jo(n[r],e.name,t);else if(t==null)for(r in n)n[r]=Jo(n[r],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new en(e)},call:function(e,t){if((r=arguments.length-2)>0)for(var n=new Array(r),o=0,r,i;o<r;++o)n[o]=arguments[o+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=this._[e],o=0,r=i.length;o<r;++o)i[o].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var o=this._[e],r=0,i=o.length;r<i;++r)o[r].value.apply(t,n)}};function Ys(e,t){for(var n=0,o=e.length,r;n<o;++n)if((r=e[n]).name===t)return r.value}function Jo(e,t,n){for(var o=0,r=e.length;o<r;++o)if(e[o].name===t){e[o]=Hs,e=e.slice(0,o).concat(e.slice(o+1));break}return n!=null&&e.push({name:t,value:n}),e}var Tn="http://www.w3.org/1999/xhtml",er={svg:"http://www.w3.org/2000/svg",xhtml:Tn,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function tn(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),er.hasOwnProperty(t)?{space:er[t],local:e}:e}function Vs(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Tn&&t.documentElement.namespaceURI===Tn?t.createElement(e):t.createElementNS(n,e)}}function Fs(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function tr(e){var t=tn(e);return(t.local?Fs:Vs)(t)}function Us(){}function Bn(e){return e==null?Us:function(){return this.querySelector(e)}}function Zs(e){typeof e!="function"&&(e=Bn(e));for(var t=this._groups,n=t.length,o=new Array(n),r=0;r<n;++r)for(var i=t[r],a=i.length,s=o[r]=new Array(a),l,u,c=0;c<a;++c)(l=i[c])&&(u=e.call(l,l.__data__,c,i))&&("__data__"in l&&(u.__data__=l.__data__),s[c]=u);return new ce(o,this._parents)}function Ks(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Ws(){return[]}function nr(e){return e==null?Ws:function(){return this.querySelectorAll(e)}}function Gs(e){return function(){return Ks(e.apply(this,arguments))}}function qs(e){typeof e=="function"?e=Gs(e):e=nr(e);for(var t=this._groups,n=t.length,o=[],r=[],i=0;i<n;++i)for(var a=t[i],s=a.length,l,u=0;u<s;++u)(l=a[u])&&(o.push(e.call(l,l.__data__,u,a)),r.push(l));return new ce(o,r)}function or(e){return function(){return this.matches(e)}}function rr(e){return function(t){return t.matches(e)}}var Qs=Array.prototype.find;function Js(e){return function(){return Qs.call(this.children,e)}}function el(){return this.firstElementChild}function tl(e){return this.select(e==null?el:Js(typeof e=="function"?e:rr(e)))}var nl=Array.prototype.filter;function ol(){return Array.from(this.children)}function rl(e){return function(){return nl.call(this.children,e)}}function il(e){return this.selectAll(e==null?ol:rl(typeof e=="function"?e:rr(e)))}function al(e){typeof e!="function"&&(e=or(e));for(var t=this._groups,n=t.length,o=new Array(n),r=0;r<n;++r)for(var i=t[r],a=i.length,s=o[r]=[],l,u=0;u<a;++u)(l=i[u])&&e.call(l,l.__data__,u,i)&&s.push(l);return new ce(o,this._parents)}function ir(e){return new Array(e.length)}function sl(){return new ce(this._enter||this._groups.map(ir),this._parents)}function nn(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}nn.prototype={constructor:nn,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function ll(e){return function(){return e}}function cl(e,t,n,o,r,i){for(var a=0,s,l=t.length,u=i.length;a<u;++a)(s=t[a])?(s.__data__=i[a],o[a]=s):n[a]=new nn(e,i[a]);for(;a<l;++a)(s=t[a])&&(r[a]=s)}function ul(e,t,n,o,r,i,a){var s,l,u=new Map,c=t.length,d=i.length,f=new Array(c),h;for(s=0;s<c;++s)(l=t[s])&&(f[s]=h=a.call(l,l.__data__,s,t)+"",u.has(h)?r[s]=l:u.set(h,l));for(s=0;s<d;++s)h=a.call(e,i[s],s,i)+"",(l=u.get(h))?(o[s]=l,l.__data__=i[s],u.delete(h)):n[s]=new nn(e,i[s]);for(s=0;s<c;++s)(l=t[s])&&u.get(f[s])===l&&(r[s]=l)}function dl(e){return e.__data__}function fl(e,t){if(!arguments.length)return Array.from(this,dl);var n=t?ul:cl,o=this._parents,r=this._groups;typeof e!="function"&&(e=ll(e));for(var i=r.length,a=new Array(i),s=new Array(i),l=new Array(i),u=0;u<i;++u){var c=o[u],d=r[u],f=d.length,h=hl(e.call(c,c&&c.__data__,u,o)),g=h.length,b=s[u]=new Array(g),w=a[u]=new Array(g),m=l[u]=new Array(f);n(c,d,b,w,m,h,t);for(var O=0,E=0,v,y;O<g;++O)if(v=b[O]){for(O>=E&&(E=O+1);!(y=w[E])&&++E<g;);v._next=y||null}}return a=new ce(a,o),a._enter=s,a._exit=l,a}function hl(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function gl(){return new ce(this._exit||this._groups.map(ir),this._parents)}function vl(e,t,n){var o=this.enter(),r=this,i=this.exit();return typeof e=="function"?(o=e(o),o&&(o=o.selection())):o=o.append(e+""),t!=null&&(r=t(r),r&&(r=r.selection())),n==null?i.remove():n(i),o&&r?o.merge(r).order():r}function pl(e){for(var t=e.selection?e.selection():e,n=this._groups,o=t._groups,r=n.length,i=o.length,a=Math.min(r,i),s=new Array(r),l=0;l<a;++l)for(var u=n[l],c=o[l],d=u.length,f=s[l]=new Array(d),h,g=0;g<d;++g)(h=u[g]||c[g])&&(f[g]=h);for(;l<r;++l)s[l]=n[l];return new ce(s,this._parents)}function ml(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var o=e[t],r=o.length-1,i=o[r],a;--r>=0;)(a=o[r])&&(i&&a.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(a,i),i=a);return this}function yl(e){e||(e=wl);function t(d,f){return d&&f?e(d.__data__,f.__data__):!d-!f}for(var n=this._groups,o=n.length,r=new Array(o),i=0;i<o;++i){for(var a=n[i],s=a.length,l=r[i]=new Array(s),u,c=0;c<s;++c)(u=a[c])&&(l[c]=u);l.sort(t)}return new ce(r,this._parents).order()}function wl(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function bl(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function Sl(){return Array.from(this)}function El(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var o=e[t],r=0,i=o.length;r<i;++r){var a=o[r];if(a)return a}return null}function Cl(){let e=0;for(const t of this)++e;return e}function Ol(){return!this.node()}function xl(e){for(var t=this._groups,n=0,o=t.length;n<o;++n)for(var r=t[n],i=0,a=r.length,s;i<a;++i)(s=r[i])&&e.call(s,s.__data__,i,r);return this}function Nl(e){return function(){this.removeAttribute(e)}}function Pl(e){return function(){this.removeAttributeNS(e.space,e.local)}}function _l(e,t){return function(){this.setAttribute(e,t)}}function Ml(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Dl(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function kl(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function $l(e,t){var n=tn(e);if(arguments.length<2){var o=this.node();return n.local?o.getAttributeNS(n.space,n.local):o.getAttribute(n)}return this.each((t==null?n.local?Pl:Nl:typeof t=="function"?n.local?kl:Dl:n.local?Ml:_l)(n,t))}function ar(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Al(e){return function(){this.style.removeProperty(e)}}function zl(e,t,n){return function(){this.style.setProperty(e,t,n)}}function Tl(e,t,n){return function(){var o=t.apply(this,arguments);o==null?this.style.removeProperty(e):this.style.setProperty(e,o,n)}}function Bl(e,t,n){return arguments.length>1?this.each((t==null?Al:typeof t=="function"?Tl:zl)(e,t,n==null?"":n)):ut(this.node(),e)}function ut(e,t){return e.style.getPropertyValue(t)||ar(e).getComputedStyle(e,null).getPropertyValue(t)}function Rl(e){return function(){delete this[e]}}function Il(e,t){return function(){this[e]=t}}function jl(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function Ll(e,t){return arguments.length>1?this.each((t==null?Rl:typeof t=="function"?jl:Il)(e,t)):this.node()[e]}function sr(e){return e.trim().split(/^|\s+/)}function Rn(e){return e.classList||new lr(e)}function lr(e){this._node=e,this._names=sr(e.getAttribute("class")||"")}lr.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function cr(e,t){for(var n=Rn(e),o=-1,r=t.length;++o<r;)n.add(t[o])}function ur(e,t){for(var n=Rn(e),o=-1,r=t.length;++o<r;)n.remove(t[o])}function Hl(e){return function(){cr(this,e)}}function Xl(e){return function(){ur(this,e)}}function Yl(e,t){return function(){(t.apply(this,arguments)?cr:ur)(this,e)}}function Vl(e,t){var n=sr(e+"");if(arguments.length<2){for(var o=Rn(this.node()),r=-1,i=n.length;++r<i;)if(!o.contains(n[r]))return!1;return!0}return this.each((typeof t=="function"?Yl:t?Hl:Xl)(n,t))}function Fl(){this.textContent=""}function Ul(e){return function(){this.textContent=e}}function Zl(e){return function(){var t=e.apply(this,arguments);this.textContent=t==null?"":t}}function Kl(e){return arguments.length?this.each(e==null?Fl:(typeof e=="function"?Zl:Ul)(e)):this.node().textContent}function Wl(){this.innerHTML=""}function Gl(e){return function(){this.innerHTML=e}}function ql(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t==null?"":t}}function Ql(e){return arguments.length?this.each(e==null?Wl:(typeof e=="function"?ql:Gl)(e)):this.node().innerHTML}function Jl(){this.nextSibling&&this.parentNode.appendChild(this)}function ec(){return this.each(Jl)}function tc(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function nc(){return this.each(tc)}function oc(e){var t=typeof e=="function"?e:tr(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function rc(){return null}function ic(e,t){var n=typeof e=="function"?e:tr(e),o=t==null?rc:typeof t=="function"?t:Bn(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),o.apply(this,arguments)||null)})}function ac(){var e=this.parentNode;e&&e.removeChild(this)}function sc(){return this.each(ac)}function lc(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function cc(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function uc(e){return this.select(e?cc:lc)}function dc(e){return arguments.length?this.property("__data__",e):this.node().__data__}function fc(e){return function(t){e.call(this,t,this.__data__)}}function hc(e){return e.trim().split(/^|\s+/).map(function(t){var n="",o=t.indexOf(".");return o>=0&&(n=t.slice(o+1),t=t.slice(0,o)),{type:t,name:n}})}function gc(e){return function(){var t=this.__on;if(!!t){for(var n=0,o=-1,r=t.length,i;n<r;++n)i=t[n],(!e.type||i.type===e.type)&&i.name===e.name?this.removeEventListener(i.type,i.listener,i.options):t[++o]=i;++o?t.length=o:delete this.__on}}}function vc(e,t,n){return function(){var o=this.__on,r,i=fc(t);if(o){for(var a=0,s=o.length;a<s;++a)if((r=o[a]).type===e.type&&r.name===e.name){this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=i,r.options=n),r.value=t;return}}this.addEventListener(e.type,i,n),r={type:e.type,name:e.name,value:t,listener:i,options:n},o?o.push(r):this.__on=[r]}}function pc(e,t,n){var o=hc(e+""),r,i=o.length,a;if(arguments.length<2){var s=this.node().__on;if(s){for(var l=0,u=s.length,c;l<u;++l)for(r=0,c=s[l];r<i;++r)if((a=o[r]).type===c.type&&a.name===c.name)return c.value}return}for(s=t?vc:gc,r=0;r<i;++r)this.each(s(o[r],t,n));return this}function dr(e,t,n){var o=ar(e),r=o.CustomEvent;typeof r=="function"?r=new r(t,n):(r=o.document.createEvent("Event"),n?(r.initEvent(t,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(t,!1,!1)),e.dispatchEvent(r)}function mc(e,t){return function(){return dr(this,e,t)}}function yc(e,t){return function(){return dr(this,e,t.apply(this,arguments))}}function wc(e,t){return this.each((typeof t=="function"?yc:mc)(e,t))}function*bc(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var o=e[t],r=0,i=o.length,a;r<i;++r)(a=o[r])&&(yield a)}var fr=[null];function ce(e,t){this._groups=e,this._parents=t}function Nt(){return new ce([[document.documentElement]],fr)}function Sc(){return this}ce.prototype=Nt.prototype={constructor:ce,select:Zs,selectAll:qs,selectChild:tl,selectChildren:il,filter:al,data:fl,enter:sl,exit:gl,join:vl,merge:pl,selection:Sc,order:ml,sort:yl,call:bl,nodes:Sl,node:El,size:Cl,empty:Ol,each:xl,attr:$l,style:Bl,property:Ll,classed:Vl,text:Kl,html:Ql,raise:ec,lower:nc,append:oc,insert:ic,remove:sc,clone:uc,datum:dc,on:pc,dispatch:wc,[Symbol.iterator]:bc};function ge(e){return typeof e=="string"?new ce([[document.querySelector(e)]],[document.documentElement]):new ce([[e]],fr)}function Ec(e){let t;for(;t=e.sourceEvent;)e=t;return e}function be(e,t){if(e=Ec(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var o=n.createSVGPoint();return o.x=e.clientX,o.y=e.clientY,o=o.matrixTransform(t.getScreenCTM().inverse()),[o.x,o.y]}if(t.getBoundingClientRect){var r=t.getBoundingClientRect();return[e.clientX-r.left-t.clientLeft,e.clientY-r.top-t.clientTop]}}return[e.pageX,e.pageY]}const Cc={passive:!1},Pt={capture:!0,passive:!1};function In(e){e.stopImmediatePropagation()}function dt(e){e.preventDefault(),e.stopImmediatePropagation()}function hr(e){var t=e.document.documentElement,n=ge(e).on("dragstart.drag",dt,Pt);"onselectstart"in t?n.on("selectstart.drag",dt,Pt):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function gr(e,t){var n=e.document.documentElement,o=ge(e).on("dragstart.drag",null);t&&(o.on("click.drag",dt,Pt),setTimeout(function(){o.on("click.drag",null)},0)),"onselectstart"in n?o.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}var on=e=>()=>e;function jn(e,{sourceEvent:t,subject:n,target:o,identifier:r,active:i,x:a,y:s,dx:l,dy:u,dispatch:c}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:o,enumerable:!0,configurable:!0},identifier:{value:r,enumerable:!0,configurable:!0},active:{value:i,enumerable:!0,configurable:!0},x:{value:a,enumerable:!0,configurable:!0},y:{value:s,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:c}})}jn.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function Oc(e){return!e.ctrlKey&&!e.button}function xc(){return this.parentNode}function Nc(e,t){return t==null?{x:e.x,y:e.y}:t}function Pc(){return navigator.maxTouchPoints||"ontouchstart"in this}function _c(){var e=Oc,t=xc,n=Nc,o=Pc,r={},i=Jt("start","drag","end"),a=0,s,l,u,c,d=0;function f(v){v.on("mousedown.drag",h).filter(o).on("touchstart.drag",w).on("touchmove.drag",m,Cc).on("touchend.drag touchcancel.drag",O).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function h(v,y){if(!(c||!e.call(this,v,y))){var C=E(this,t.call(this,v,y),v,y,"mouse");!C||(ge(v.view).on("mousemove.drag",g,Pt).on("mouseup.drag",b,Pt),hr(v.view),In(v),u=!1,s=v.clientX,l=v.clientY,C("start",v))}}function g(v){if(dt(v),!u){var y=v.clientX-s,C=v.clientY-l;u=y*y+C*C>d}r.mouse("drag",v)}function b(v){ge(v.view).on("mousemove.drag mouseup.drag",null),gr(v.view,u),dt(v),r.mouse("end",v)}function w(v,y){if(!!e.call(this,v,y)){var C=v.changedTouches,P=t.call(this,v,y),x=C.length,D,B;for(D=0;D<x;++D)(B=E(this,P,v,y,C[D].identifier,C[D]))&&(In(v),B("start",v,C[D]))}}function m(v){var y=v.changedTouches,C=y.length,P,x;for(P=0;P<C;++P)(x=r[y[P].identifier])&&(dt(v),x("drag",v,y[P]))}function O(v){var y=v.changedTouches,C=y.length,P,x;for(c&&clearTimeout(c),c=setTimeout(function(){c=null},500),P=0;P<C;++P)(x=r[y[P].identifier])&&(In(v),x("end",v,y[P]))}function E(v,y,C,P,x,D){var B=i.copy(),T=be(D||C,y),H,Y,p;if((p=n.call(v,new jn("beforestart",{sourceEvent:C,target:f,identifier:x,active:a,x:T[0],y:T[1],dx:0,dy:0,dispatch:B}),P))!=null)return H=p.x-T[0]||0,Y=p.y-T[1]||0,function _(S,M,$){var k=T,A;switch(S){case"start":r[x]=_,A=a++;break;case"end":delete r[x],--a;case"drag":T=be($||M,y),A=a;break}B.call(S,v,new jn(S,{sourceEvent:M,subject:p,target:f,identifier:x,active:A,x:T[0]+H,y:T[1]+Y,dx:T[0]-k[0],dy:T[1]-k[1],dispatch:B}),P)}}return f.filter=function(v){return arguments.length?(e=typeof v=="function"?v:on(!!v),f):e},f.container=function(v){return arguments.length?(t=typeof v=="function"?v:on(v),f):t},f.subject=function(v){return arguments.length?(n=typeof v=="function"?v:on(v),f):n},f.touchable=function(v){return arguments.length?(o=typeof v=="function"?v:on(!!v),f):o},f.on=function(){var v=i.on.apply(i,arguments);return v===i?f:v},f.clickDistance=function(v){return arguments.length?(d=(v=+v)*v,f):Math.sqrt(d)},f}function Ln(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function vr(e,t){var n=Object.create(e.prototype);for(var o in t)n[o]=t[o];return n}function _t(){}var Mt=.7,rn=1/Mt,ft="\\s*([+-]?\\d+)\\s*",Dt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Se="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Mc=/^#([0-9a-f]{3,8})$/,Dc=new RegExp(`^rgb\\(${ft},${ft},${ft}\\)$`),kc=new RegExp(`^rgb\\(${Se},${Se},${Se}\\)$`),$c=new RegExp(`^rgba\\(${ft},${ft},${ft},${Dt}\\)$`),Ac=new RegExp(`^rgba\\(${Se},${Se},${Se},${Dt}\\)$`),zc=new RegExp(`^hsl\\(${Dt},${Se},${Se}\\)$`),Tc=new RegExp(`^hsla\\(${Dt},${Se},${Se},${Dt}\\)$`),pr={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ln(_t,kt,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:mr,formatHex:mr,formatHex8:Bc,formatHsl:Rc,formatRgb:yr,toString:yr});function mr(){return this.rgb().formatHex()}function Bc(){return this.rgb().formatHex8()}function Rc(){return Cr(this).formatHsl()}function yr(){return this.rgb().formatRgb()}function kt(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Mc.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?wr(t):n===3?new ae(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?an(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?an(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Dc.exec(e))?new ae(t[1],t[2],t[3],1):(t=kc.exec(e))?new ae(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=$c.exec(e))?an(t[1],t[2],t[3],t[4]):(t=Ac.exec(e))?an(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=zc.exec(e))?Er(t[1],t[2]/100,t[3]/100,1):(t=Tc.exec(e))?Er(t[1],t[2]/100,t[3]/100,t[4]):pr.hasOwnProperty(e)?wr(pr[e]):e==="transparent"?new ae(NaN,NaN,NaN,0):null}function wr(e){return new ae(e>>16&255,e>>8&255,e&255,1)}function an(e,t,n,o){return o<=0&&(e=t=n=NaN),new ae(e,t,n,o)}function Ic(e){return e instanceof _t||(e=kt(e)),e?(e=e.rgb(),new ae(e.r,e.g,e.b,e.opacity)):new ae}function Hn(e,t,n,o){return arguments.length===1?Ic(e):new ae(e,t,n,o==null?1:o)}function ae(e,t,n,o){this.r=+e,this.g=+t,this.b=+n,this.opacity=+o}Ln(ae,Hn,vr(_t,{brighter(e){return e=e==null?rn:Math.pow(rn,e),new ae(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Mt:Math.pow(Mt,e),new ae(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ae(Ze(this.r),Ze(this.g),Ze(this.b),sn(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:br,formatHex:br,formatHex8:jc,formatRgb:Sr,toString:Sr}));function br(){return`#${Ke(this.r)}${Ke(this.g)}${Ke(this.b)}`}function jc(){return`#${Ke(this.r)}${Ke(this.g)}${Ke(this.b)}${Ke((isNaN(this.opacity)?1:this.opacity)*255)}`}function Sr(){const e=sn(this.opacity);return`${e===1?"rgb(":"rgba("}${Ze(this.r)}, ${Ze(this.g)}, ${Ze(this.b)}${e===1?")":`, ${e})`}`}function sn(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ze(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ke(e){return e=Ze(e),(e<16?"0":"")+e.toString(16)}function Er(e,t,n,o){return o<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new ve(e,t,n,o)}function Cr(e){if(e instanceof ve)return new ve(e.h,e.s,e.l,e.opacity);if(e instanceof _t||(e=kt(e)),!e)return new ve;if(e instanceof ve)return e;e=e.rgb();var t=e.r/255,n=e.g/255,o=e.b/255,r=Math.min(t,n,o),i=Math.max(t,n,o),a=NaN,s=i-r,l=(i+r)/2;return s?(t===i?a=(n-o)/s+(n<o)*6:n===i?a=(o-t)/s+2:a=(t-n)/s+4,s/=l<.5?i+r:2-i-r,a*=60):s=l>0&&l<1?0:a,new ve(a,s,l,e.opacity)}function Lc(e,t,n,o){return arguments.length===1?Cr(e):new ve(e,t,n,o==null?1:o)}function ve(e,t,n,o){this.h=+e,this.s=+t,this.l=+n,this.opacity=+o}Ln(ve,Lc,vr(_t,{brighter(e){return e=e==null?rn:Math.pow(rn,e),new ve(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Mt:Math.pow(Mt,e),new ve(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,o=n+(n<.5?n:1-n)*t,r=2*n-o;return new ae(Xn(e>=240?e-240:e+120,r,o),Xn(e,r,o),Xn(e<120?e+240:e-120,r,o),this.opacity)},clamp(){return new ve(Or(this.h),ln(this.s),ln(this.l),sn(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=sn(this.opacity);return`${e===1?"hsl(":"hsla("}${Or(this.h)}, ${ln(this.s)*100}%, ${ln(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Or(e){return e=(e||0)%360,e<0?e+360:e}function ln(e){return Math.max(0,Math.min(1,e||0))}function Xn(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}var xr=e=>()=>e;function Hc(e,t){return function(n){return e+n*t}}function Xc(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(o){return Math.pow(e+o*t,n)}}function Yc(e){return(e=+e)==1?Nr:function(t,n){return n-t?Xc(t,n,e):xr(isNaN(t)?n:t)}}function Nr(e,t){var n=t-e;return n?Hc(e,n):xr(isNaN(e)?t:e)}var Pr=function e(t){var n=Yc(t);function o(r,i){var a=n((r=Hn(r)).r,(i=Hn(i)).r),s=n(r.g,i.g),l=n(r.b,i.b),u=Nr(r.opacity,i.opacity);return function(c){return r.r=a(c),r.g=s(c),r.b=l(c),r.opacity=u(c),r+""}}return o.gamma=e,o}(1);function Be(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var Yn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Vn=new RegExp(Yn.source,"g");function Vc(e){return function(){return e}}function Fc(e){return function(t){return e(t)+""}}function Uc(e,t){var n=Yn.lastIndex=Vn.lastIndex=0,o,r,i,a=-1,s=[],l=[];for(e=e+"",t=t+"";(o=Yn.exec(e))&&(r=Vn.exec(t));)(i=r.index)>n&&(i=t.slice(n,i),s[a]?s[a]+=i:s[++a]=i),(o=o[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,l.push({i:a,x:Be(o,r)})),n=Vn.lastIndex;return n<t.length&&(i=t.slice(n),s[a]?s[a]+=i:s[++a]=i),s.length<2?l[0]?Fc(l[0].x):Vc(t):(t=l.length,function(u){for(var c=0,d;c<t;++c)s[(d=l[c]).i]=d.x(u);return s.join("")})}var _r=180/Math.PI,Fn={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Mr(e,t,n,o,r,i){var a,s,l;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(l=e*n+t*o)&&(n-=e*l,o-=t*l),(s=Math.sqrt(n*n+o*o))&&(n/=s,o/=s,l/=s),e*o<t*n&&(e=-e,t=-t,l=-l,a=-a),{translateX:r,translateY:i,rotate:Math.atan2(t,e)*_r,skewX:Math.atan(l)*_r,scaleX:a,scaleY:s}}var cn;function Zc(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Fn:Mr(t.a,t.b,t.c,t.d,t.e,t.f)}function Kc(e){return e==null||(cn||(cn=document.createElementNS("http://www.w3.org/2000/svg","g")),cn.setAttribute("transform",e),!(e=cn.transform.baseVal.consolidate()))?Fn:(e=e.matrix,Mr(e.a,e.b,e.c,e.d,e.e,e.f))}function Dr(e,t,n,o){function r(u){return u.length?u.pop()+" ":""}function i(u,c,d,f,h,g){if(u!==d||c!==f){var b=h.push("translate(",null,t,null,n);g.push({i:b-4,x:Be(u,d)},{i:b-2,x:Be(c,f)})}else(d||f)&&h.push("translate("+d+t+f+n)}function a(u,c,d,f){u!==c?(u-c>180?c+=360:c-u>180&&(u+=360),f.push({i:d.push(r(d)+"rotate(",null,o)-2,x:Be(u,c)})):c&&d.push(r(d)+"rotate("+c+o)}function s(u,c,d,f){u!==c?f.push({i:d.push(r(d)+"skewX(",null,o)-2,x:Be(u,c)}):c&&d.push(r(d)+"skewX("+c+o)}function l(u,c,d,f,h,g){if(u!==d||c!==f){var b=h.push(r(h)+"scale(",null,",",null,")");g.push({i:b-4,x:Be(u,d)},{i:b-2,x:Be(c,f)})}else(d!==1||f!==1)&&h.push(r(h)+"scale("+d+","+f+")")}return function(u,c){var d=[],f=[];return u=e(u),c=e(c),i(u.translateX,u.translateY,c.translateX,c.translateY,d,f),a(u.rotate,c.rotate,d,f),s(u.skewX,c.skewX,d,f),l(u.scaleX,u.scaleY,c.scaleX,c.scaleY,d,f),u=c=null,function(h){for(var g=-1,b=f.length,w;++g<b;)d[(w=f[g]).i]=w.x(h);return d.join("")}}}var Wc=Dr(Zc,"px, ","px)","deg)"),Gc=Dr(Kc,", ",")",")"),qc=1e-12;function kr(e){return((e=Math.exp(e))+1/e)/2}function Qc(e){return((e=Math.exp(e))-1/e)/2}function Jc(e){return((e=Math.exp(2*e))-1)/(e+1)}var eu=function e(t,n,o){function r(i,a){var s=i[0],l=i[1],u=i[2],c=a[0],d=a[1],f=a[2],h=c-s,g=d-l,b=h*h+g*g,w,m;if(b<qc)m=Math.log(f/u)/t,w=function(P){return[s+P*h,l+P*g,u*Math.exp(t*P*m)]};else{var O=Math.sqrt(b),E=(f*f-u*u+o*b)/(2*u*n*O),v=(f*f-u*u-o*b)/(2*f*n*O),y=Math.log(Math.sqrt(E*E+1)-E),C=Math.log(Math.sqrt(v*v+1)-v);m=(C-y)/t,w=function(P){var x=P*m,D=kr(y),B=u/(n*O)*(D*Jc(t*x+y)-Qc(y));return[s+B*h,l+B*g,u*D/kr(t*x+y)]}}return w.duration=m*1e3*t/Math.SQRT2,w}return r.rho=function(i){var a=Math.max(.001,+i),s=a*a,l=s*s;return e(a,s,l)},r}(Math.SQRT2,2,4),ht=0,$t=0,At=0,$r=1e3,un,zt,dn=0,We=0,fn=0,Tt=typeof performance=="object"&&performance.now?performance:Date,Ar=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Un(){return We||(Ar(tu),We=Tt.now()+fn)}function tu(){We=0}function hn(){this._call=this._time=this._next=null}hn.prototype=zr.prototype={constructor:hn,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?Un():+n)+(t==null?0:+t),!this._next&&zt!==this&&(zt?zt._next=this:un=this,zt=this),this._call=e,this._time=n,Zn()},stop:function(){this._call&&(this._call=null,this._time=1/0,Zn())}};function zr(e,t,n){var o=new hn;return o.restart(e,t,n),o}function nu(){Un(),++ht;for(var e=un,t;e;)(t=We-e._time)>=0&&e._call.call(void 0,t),e=e._next;--ht}function Tr(){We=(dn=Tt.now())+fn,ht=$t=0;try{nu()}finally{ht=0,ru(),We=0}}function ou(){var e=Tt.now(),t=e-dn;t>$r&&(fn-=t,dn=e)}function ru(){for(var e,t=un,n,o=1/0;t;)t._call?(o>t._time&&(o=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:un=n);zt=e,Zn(o)}function Zn(e){if(!ht){$t&&($t=clearTimeout($t));var t=e-We;t>24?(e<1/0&&($t=setTimeout(Tr,e-Tt.now()-fn)),At&&(At=clearInterval(At))):(At||(dn=Tt.now(),At=setInterval(ou,$r)),ht=1,Ar(Tr))}}function Br(e,t,n){var o=new hn;return t=t==null?0:+t,o.restart(r=>{o.stop(),e(r+t)},t,n),o}var iu=Jt("start","end","cancel","interrupt"),au=[],Rr=0,Ir=1,Kn=2,gn=3,jr=4,Wn=5,vn=6;function pn(e,t,n,o,r,i){var a=e.__transition;if(!a)e.__transition={};else if(n in a)return;su(e,n,{name:t,index:o,group:r,on:iu,tween:au,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:Rr})}function Gn(e,t){var n=pe(e,t);if(n.state>Rr)throw new Error("too late; already scheduled");return n}function Ee(e,t){var n=pe(e,t);if(n.state>gn)throw new Error("too late; already running");return n}function pe(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function su(e,t,n){var o=e.__transition,r;o[t]=n,n.timer=zr(i,0,n.time);function i(u){n.state=Ir,n.timer.restart(a,n.delay,n.time),n.delay<=u&&a(u-n.delay)}function a(u){var c,d,f,h;if(n.state!==Ir)return l();for(c in o)if(h=o[c],h.name===n.name){if(h.state===gn)return Br(a);h.state===jr?(h.state=vn,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete o[c]):+c<t&&(h.state=vn,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete o[c])}if(Br(function(){n.state===gn&&(n.state=jr,n.timer.restart(s,n.delay,n.time),s(u))}),n.state=Kn,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Kn){for(n.state=gn,r=new Array(f=n.tween.length),c=0,d=-1;c<f;++c)(h=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(r[++d]=h);r.length=d+1}}function s(u){for(var c=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(l),n.state=Wn,1),d=-1,f=r.length;++d<f;)r[d].call(e,c);n.state===Wn&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){n.state=vn,n.timer.stop(),delete o[t];for(var u in o)return;delete e.__transition}}function mn(e,t){var n=e.__transition,o,r,i=!0,a;if(!!n){t=t==null?null:t+"";for(a in n){if((o=n[a]).name!==t){i=!1;continue}r=o.state>Kn&&o.state<Wn,o.state=vn,o.timer.stop(),o.on.call(r?"interrupt":"cancel",e,e.__data__,o.index,o.group),delete n[a]}i&&delete e.__transition}}function lu(e){return this.each(function(){mn(this,e)})}function cu(e,t){var n,o;return function(){var r=Ee(this,e),i=r.tween;if(i!==n){o=n=i;for(var a=0,s=o.length;a<s;++a)if(o[a].name===t){o=o.slice(),o.splice(a,1);break}}r.tween=o}}function uu(e,t,n){var o,r;if(typeof n!="function")throw new Error;return function(){var i=Ee(this,e),a=i.tween;if(a!==o){r=(o=a).slice();for(var s={name:t,value:n},l=0,u=r.length;l<u;++l)if(r[l].name===t){r[l]=s;break}l===u&&r.push(s)}i.tween=r}}function du(e,t){var n=this._id;if(e+="",arguments.length<2){for(var o=pe(this.node(),n).tween,r=0,i=o.length,a;r<i;++r)if((a=o[r]).name===e)return a.value;return null}return this.each((t==null?cu:uu)(n,e,t))}function qn(e,t,n){var o=e._id;return e.each(function(){var r=Ee(this,o);(r.value||(r.value={}))[t]=n.apply(this,arguments)}),function(r){return pe(r,o).value[t]}}function Lr(e,t){var n;return(typeof t=="number"?Be:t instanceof kt?Pr:(n=kt(t))?(t=n,Pr):Uc)(e,t)}function fu(e){return function(){this.removeAttribute(e)}}function hu(e){return function(){this.removeAttributeNS(e.space,e.local)}}function gu(e,t,n){var o,r=n+"",i;return function(){var a=this.getAttribute(e);return a===r?null:a===o?i:i=t(o=a,n)}}function vu(e,t,n){var o,r=n+"",i;return function(){var a=this.getAttributeNS(e.space,e.local);return a===r?null:a===o?i:i=t(o=a,n)}}function pu(e,t,n){var o,r,i;return function(){var a,s=n(this),l;return s==null?void this.removeAttribute(e):(a=this.getAttribute(e),l=s+"",a===l?null:a===o&&l===r?i:(r=l,i=t(o=a,s)))}}function mu(e,t,n){var o,r,i;return function(){var a,s=n(this),l;return s==null?void this.removeAttributeNS(e.space,e.local):(a=this.getAttributeNS(e.space,e.local),l=s+"",a===l?null:a===o&&l===r?i:(r=l,i=t(o=a,s)))}}function yu(e,t){var n=tn(e),o=n==="transform"?Gc:Lr;return this.attrTween(e,typeof t=="function"?(n.local?mu:pu)(n,o,qn(this,"attr."+e,t)):t==null?(n.local?hu:fu)(n):(n.local?vu:gu)(n,o,t))}function wu(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function bu(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function Su(e,t){var n,o;function r(){var i=t.apply(this,arguments);return i!==o&&(n=(o=i)&&bu(e,i)),n}return r._value=t,r}function Eu(e,t){var n,o;function r(){var i=t.apply(this,arguments);return i!==o&&(n=(o=i)&&wu(e,i)),n}return r._value=t,r}function Cu(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var o=tn(e);return this.tween(n,(o.local?Su:Eu)(o,t))}function Ou(e,t){return function(){Gn(this,e).delay=+t.apply(this,arguments)}}function xu(e,t){return t=+t,function(){Gn(this,e).delay=t}}function Nu(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Ou:xu)(t,e)):pe(this.node(),t).delay}function Pu(e,t){return function(){Ee(this,e).duration=+t.apply(this,arguments)}}function _u(e,t){return t=+t,function(){Ee(this,e).duration=t}}function Mu(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Pu:_u)(t,e)):pe(this.node(),t).duration}function Du(e,t){if(typeof t!="function")throw new Error;return function(){Ee(this,e).ease=t}}function ku(e){var t=this._id;return arguments.length?this.each(Du(t,e)):pe(this.node(),t).ease}function $u(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Ee(this,e).ease=n}}function Au(e){if(typeof e!="function")throw new Error;return this.each($u(this._id,e))}function zu(e){typeof e!="function"&&(e=or(e));for(var t=this._groups,n=t.length,o=new Array(n),r=0;r<n;++r)for(var i=t[r],a=i.length,s=o[r]=[],l,u=0;u<a;++u)(l=i[u])&&e.call(l,l.__data__,u,i)&&s.push(l);return new _e(o,this._parents,this._name,this._id)}function Tu(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,o=t.length,r=n.length,i=Math.min(o,r),a=new Array(o),s=0;s<i;++s)for(var l=t[s],u=n[s],c=l.length,d=a[s]=new Array(c),f,h=0;h<c;++h)(f=l[h]||u[h])&&(d[h]=f);for(;s<o;++s)a[s]=t[s];return new _e(a,this._parents,this._name,this._id)}function Bu(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function Ru(e,t,n){var o,r,i=Bu(t)?Gn:Ee;return function(){var a=i(this,e),s=a.on;s!==o&&(r=(o=s).copy()).on(t,n),a.on=r}}function Iu(e,t){var n=this._id;return arguments.length<2?pe(this.node(),n).on.on(e):this.each(Ru(n,e,t))}function ju(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function Lu(){return this.on("end.remove",ju(this._id))}function Hu(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Bn(e));for(var o=this._groups,r=o.length,i=new Array(r),a=0;a<r;++a)for(var s=o[a],l=s.length,u=i[a]=new Array(l),c,d,f=0;f<l;++f)(c=s[f])&&(d=e.call(c,c.__data__,f,s))&&("__data__"in c&&(d.__data__=c.__data__),u[f]=d,pn(u[f],t,n,f,u,pe(c,n)));return new _e(i,this._parents,t,n)}function Xu(e){var t=this._name,n=this._id;typeof e!="function"&&(e=nr(e));for(var o=this._groups,r=o.length,i=[],a=[],s=0;s<r;++s)for(var l=o[s],u=l.length,c,d=0;d<u;++d)if(c=l[d]){for(var f=e.call(c,c.__data__,d,l),h,g=pe(c,n),b=0,w=f.length;b<w;++b)(h=f[b])&&pn(h,t,n,b,f,g);i.push(f),a.push(c)}return new _e(i,a,t,n)}var Yu=Nt.prototype.constructor;function Vu(){return new Yu(this._groups,this._parents)}function Fu(e,t){var n,o,r;return function(){var i=ut(this,e),a=(this.style.removeProperty(e),ut(this,e));return i===a?null:i===n&&a===o?r:r=t(n=i,o=a)}}function Hr(e){return function(){this.style.removeProperty(e)}}function Uu(e,t,n){var o,r=n+"",i;return function(){var a=ut(this,e);return a===r?null:a===o?i:i=t(o=a,n)}}function Zu(e,t,n){var o,r,i;return function(){var a=ut(this,e),s=n(this),l=s+"";return s==null&&(l=s=(this.style.removeProperty(e),ut(this,e))),a===l?null:a===o&&l===r?i:(r=l,i=t(o=a,s))}}function Ku(e,t){var n,o,r,i="style."+t,a="end."+i,s;return function(){var l=Ee(this,e),u=l.on,c=l.value[i]==null?s||(s=Hr(t)):void 0;(u!==n||r!==c)&&(o=(n=u).copy()).on(a,r=c),l.on=o}}function Wu(e,t,n){var o=(e+="")==="transform"?Wc:Lr;return t==null?this.styleTween(e,Fu(e,o)).on("end.style."+e,Hr(e)):typeof t=="function"?this.styleTween(e,Zu(e,o,qn(this,"style."+e,t))).each(Ku(this._id,e)):this.styleTween(e,Uu(e,o,t),n).on("end.style."+e,null)}function Gu(e,t,n){return function(o){this.style.setProperty(e,t.call(this,o),n)}}function qu(e,t,n){var o,r;function i(){var a=t.apply(this,arguments);return a!==r&&(o=(r=a)&&Gu(e,a,n)),o}return i._value=t,i}function Qu(e,t,n){var o="style."+(e+="");if(arguments.length<2)return(o=this.tween(o))&&o._value;if(t==null)return this.tween(o,null);if(typeof t!="function")throw new Error;return this.tween(o,qu(e,t,n==null?"":n))}function Ju(e){return function(){this.textContent=e}}function ed(e){return function(){var t=e(this);this.textContent=t==null?"":t}}function td(e){return this.tween("text",typeof e=="function"?ed(qn(this,"text",e)):Ju(e==null?"":e+""))}function nd(e){return function(t){this.textContent=e.call(this,t)}}function od(e){var t,n;function o(){var r=e.apply(this,arguments);return r!==n&&(t=(n=r)&&nd(r)),t}return o._value=e,o}function rd(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,od(e))}function id(){for(var e=this._name,t=this._id,n=Xr(),o=this._groups,r=o.length,i=0;i<r;++i)for(var a=o[i],s=a.length,l,u=0;u<s;++u)if(l=a[u]){var c=pe(l,t);pn(l,e,n,u,a,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new _e(o,this._parents,e,n)}function ad(){var e,t,n=this,o=n._id,r=n.size();return new Promise(function(i,a){var s={value:a},l={value:function(){--r==0&&i()}};n.each(function(){var u=Ee(this,o),c=u.on;c!==e&&(t=(e=c).copy(),t._.cancel.push(s),t._.interrupt.push(s),t._.end.push(l)),u.on=t}),r===0&&i()})}var sd=0;function _e(e,t,n,o){this._groups=e,this._parents=t,this._name=n,this._id=o}function Xr(){return++sd}var Me=Nt.prototype;_e.prototype={constructor:_e,select:Hu,selectAll:Xu,selectChild:Me.selectChild,selectChildren:Me.selectChildren,filter:zu,merge:Tu,selection:Vu,transition:id,call:Me.call,nodes:Me.nodes,node:Me.node,size:Me.size,empty:Me.empty,each:Me.each,on:Iu,attr:yu,attrTween:Cu,style:Wu,styleTween:Qu,text:td,textTween:rd,remove:Lu,tween:du,delay:Nu,duration:Mu,ease:ku,easeVarying:Au,end:ad,[Symbol.iterator]:Me[Symbol.iterator]};function ld(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var cd={time:null,delay:0,duration:250,ease:ld};function ud(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function dd(e){var t,n;e instanceof _e?(t=e._id,e=e._name):(t=Xr(),(n=cd).time=Un(),e=e==null?null:e+"");for(var o=this._groups,r=o.length,i=0;i<r;++i)for(var a=o[i],s=a.length,l,u=0;u<s;++u)(l=a[u])&&pn(l,e,t,u,a,n||ud(l,t));return new _e(o,this._parents,e,t)}Nt.prototype.interrupt=lu;Nt.prototype.transition=dd;var yn=e=>()=>e;function fd(e,{sourceEvent:t,target:n,transform:o,dispatch:r}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:o,enumerable:!0,configurable:!0},_:{value:r}})}function De(e,t,n){this.k=e,this.x=t,this.y=n}De.prototype={constructor:De,scale:function(e){return e===1?this:new De(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new De(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Ge=new De(1,0,0);De.prototype;function Qn(e){e.stopImmediatePropagation()}function Bt(e){e.preventDefault(),e.stopImmediatePropagation()}function hd(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function gd(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function Yr(){return this.__zoom||Ge}function vd(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function pd(){return navigator.maxTouchPoints||"ontouchstart"in this}function md(e,t,n){var o=e.invertX(t[0][0])-n[0][0],r=e.invertX(t[1][0])-n[1][0],i=e.invertY(t[0][1])-n[0][1],a=e.invertY(t[1][1])-n[1][1];return e.translate(r>o?(o+r)/2:Math.min(0,o)||Math.max(0,r),a>i?(i+a)/2:Math.min(0,i)||Math.max(0,a))}function yd(){var e=hd,t=gd,n=md,o=vd,r=pd,i=[0,1/0],a=[[-1/0,-1/0],[1/0,1/0]],s=250,l=eu,u=Jt("start","zoom","end"),c,d,f,h=500,g=150,b=0,w=10;function m(p){p.property("__zoom",Yr).on("wheel.zoom",x,{passive:!1}).on("mousedown.zoom",D).on("dblclick.zoom",B).filter(r).on("touchstart.zoom",T).on("touchmove.zoom",H).on("touchend.zoom touchcancel.zoom",Y).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}m.transform=function(p,_,S,M){var $=p.selection?p.selection():p;$.property("__zoom",Yr),p!==$?y(p,_,S,M):$.interrupt().each(function(){C(this,arguments).event(M).start().zoom(null,typeof _=="function"?_.apply(this,arguments):_).end()})},m.scaleBy=function(p,_,S,M){m.scaleTo(p,function(){var $=this.__zoom.k,k=typeof _=="function"?_.apply(this,arguments):_;return $*k},S,M)},m.scaleTo=function(p,_,S,M){m.transform(p,function(){var $=t.apply(this,arguments),k=this.__zoom,A=S==null?v($):typeof S=="function"?S.apply(this,arguments):S,I=k.invert(A),j=typeof _=="function"?_.apply(this,arguments):_;return n(E(O(k,j),A,I),$,a)},S,M)},m.translateBy=function(p,_,S,M){m.transform(p,function(){return n(this.__zoom.translate(typeof _=="function"?_.apply(this,arguments):_,typeof S=="function"?S.apply(this,arguments):S),t.apply(this,arguments),a)},null,M)},m.translateTo=function(p,_,S,M,$){m.transform(p,function(){var k=t.apply(this,arguments),A=this.__zoom,I=M==null?v(k):typeof M=="function"?M.apply(this,arguments):M;return n(Ge.translate(I[0],I[1]).scale(A.k).translate(typeof _=="function"?-_.apply(this,arguments):-_,typeof S=="function"?-S.apply(this,arguments):-S),k,a)},M,$)};function O(p,_){return _=Math.max(i[0],Math.min(i[1],_)),_===p.k?p:new De(_,p.x,p.y)}function E(p,_,S){var M=_[0]-S[0]*p.k,$=_[1]-S[1]*p.k;return M===p.x&&$===p.y?p:new De(p.k,M,$)}function v(p){return[(+p[0][0]+ +p[1][0])/2,(+p[0][1]+ +p[1][1])/2]}function y(p,_,S,M){p.on("start.zoom",function(){C(this,arguments).event(M).start()}).on("interrupt.zoom end.zoom",function(){C(this,arguments).event(M).end()}).tween("zoom",function(){var $=this,k=arguments,A=C($,k).event(M),I=t.apply($,k),j=S==null?v(I):typeof S=="function"?S.apply($,k):S,L=Math.max(I[1][0]-I[0][0],I[1][1]-I[0][1]),V=$.__zoom,U=typeof _=="function"?_.apply($,k):_,Z=l(V.invert(j).concat(L/V.k),U.invert(j).concat(L/U.k));return function(z){if(z===1)z=U;else{var F=Z(z),G=L/F[2];z=new De(G,j[0]-F[0]*G,j[1]-F[1]*G)}A.zoom(null,z)}})}function C(p,_,S){return!S&&p.__zooming||new P(p,_)}function P(p,_){this.that=p,this.args=_,this.active=0,this.sourceEvent=null,this.extent=t.apply(p,_),this.taps=0}P.prototype={event:function(p){return p&&(this.sourceEvent=p),this},start:function(){return++this.active==1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(p,_){return this.mouse&&p!=="mouse"&&(this.mouse[1]=_.invert(this.mouse[0])),this.touch0&&p!=="touch"&&(this.touch0[1]=_.invert(this.touch0[0])),this.touch1&&p!=="touch"&&(this.touch1[1]=_.invert(this.touch1[0])),this.that.__zoom=_,this.emit("zoom"),this},end:function(){return--this.active==0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(p){var _=ge(this.that).datum();u.call(p,this.that,new fd(p,{sourceEvent:this.sourceEvent,target:m,type:p,transform:this.that.__zoom,dispatch:u}),_)}};function x(p,..._){if(!e.apply(this,arguments))return;var S=C(this,_).event(p),M=this.__zoom,$=Math.max(i[0],Math.min(i[1],M.k*Math.pow(2,o.apply(this,arguments)))),k=be(p);if(S.wheel)(S.mouse[0][0]!==k[0]||S.mouse[0][1]!==k[1])&&(S.mouse[1]=M.invert(S.mouse[0]=k)),clearTimeout(S.wheel);else{if(M.k===$)return;S.mouse=[k,M.invert(k)],mn(this),S.start()}Bt(p),S.wheel=setTimeout(A,g),S.zoom("mouse",n(E(O(M,$),S.mouse[0],S.mouse[1]),S.extent,a));function A(){S.wheel=null,S.end()}}function D(p,..._){if(f||!e.apply(this,arguments))return;var S=p.currentTarget,M=C(this,_,!0).event(p),$=ge(p.view).on("mousemove.zoom",j,!0).on("mouseup.zoom",L,!0),k=be(p,S),A=p.clientX,I=p.clientY;hr(p.view),Qn(p),M.mouse=[k,this.__zoom.invert(k)],mn(this),M.start();function j(V){if(Bt(V),!M.moved){var U=V.clientX-A,Z=V.clientY-I;M.moved=U*U+Z*Z>b}M.event(V).zoom("mouse",n(E(M.that.__zoom,M.mouse[0]=be(V,S),M.mouse[1]),M.extent,a))}function L(V){$.on("mousemove.zoom mouseup.zoom",null),gr(V.view,M.moved),Bt(V),M.event(V).end()}}function B(p,..._){if(!!e.apply(this,arguments)){var S=this.__zoom,M=be(p.changedTouches?p.changedTouches[0]:p,this),$=S.invert(M),k=S.k*(p.shiftKey?.5:2),A=n(E(O(S,k),M,$),t.apply(this,_),a);Bt(p),s>0?ge(this).transition().duration(s).call(y,A,M,p):ge(this).call(m.transform,A,M,p)}}function T(p,..._){if(!!e.apply(this,arguments)){var S=p.touches,M=S.length,$=C(this,_,p.changedTouches.length===M).event(p),k,A,I,j;for(Qn(p),A=0;A<M;++A)I=S[A],j=be(I,this),j=[j,this.__zoom.invert(j),I.identifier],$.touch0?!$.touch1&&$.touch0[2]!==j[2]&&($.touch1=j,$.taps=0):($.touch0=j,k=!0,$.taps=1+!!c);c&&(c=clearTimeout(c)),k&&($.taps<2&&(d=j[0],c=setTimeout(function(){c=null},h)),mn(this),$.start())}}function H(p,..._){if(!!this.__zooming){var S=C(this,_).event(p),M=p.changedTouches,$=M.length,k,A,I,j;for(Bt(p),k=0;k<$;++k)A=M[k],I=be(A,this),S.touch0&&S.touch0[2]===A.identifier?S.touch0[0]=I:S.touch1&&S.touch1[2]===A.identifier&&(S.touch1[0]=I);if(A=S.that.__zoom,S.touch1){var L=S.touch0[0],V=S.touch0[1],U=S.touch1[0],Z=S.touch1[1],z=(z=U[0]-L[0])*z+(z=U[1]-L[1])*z,F=(F=Z[0]-V[0])*F+(F=Z[1]-V[1])*F;A=O(A,Math.sqrt(z/F)),I=[(L[0]+U[0])/2,(L[1]+U[1])/2],j=[(V[0]+Z[0])/2,(V[1]+Z[1])/2]}else if(S.touch0)I=S.touch0[0],j=S.touch0[1];else return;S.zoom("touch",n(E(A,I,j),S.extent,a))}}function Y(p,..._){if(!!this.__zooming){var S=C(this,_).event(p),M=p.changedTouches,$=M.length,k,A;for(Qn(p),f&&clearTimeout(f),f=setTimeout(function(){f=null},h),k=0;k<$;++k)A=M[k],S.touch0&&S.touch0[2]===A.identifier?delete S.touch0:S.touch1&&S.touch1[2]===A.identifier&&delete S.touch1;if(S.touch1&&!S.touch0&&(S.touch0=S.touch1,delete S.touch1),S.touch0)S.touch0[1]=this.__zoom.invert(S.touch0[0]);else if(S.end(),S.taps===2&&(A=be(A,this),Math.hypot(d[0]-A[0],d[1]-A[1])<w)){var I=ge(this).on("dblclick.zoom");I&&I.apply(this,arguments)}}}return m.wheelDelta=function(p){return arguments.length?(o=typeof p=="function"?p:yn(+p),m):o},m.filter=function(p){return arguments.length?(e=typeof p=="function"?p:yn(!!p),m):e},m.touchable=function(p){return arguments.length?(r=typeof p=="function"?p:yn(!!p),m):r},m.extent=function(p){return arguments.length?(t=typeof p=="function"?p:yn([[+p[0][0],+p[0][1]],[+p[1][0],+p[1][1]]]),m):t},m.scaleExtent=function(p){return arguments.length?(i[0]=+p[0],i[1]=+p[1],m):[i[0],i[1]]},m.translateExtent=function(p){return arguments.length?(a[0][0]=+p[0][0],a[1][0]=+p[1][0],a[0][1]=+p[0][1],a[1][1]=+p[1][1],m):[[a[0][0],a[0][1]],[a[1][0],a[1][1]]]},m.constrain=function(p){return arguments.length?(n=p,m):n},m.duration=function(p){return arguments.length?(s=+p,m):s},m.interpolate=function(p){return arguments.length?(l=p,m):l},m.on=function(){var p=u.on.apply(u,arguments);return p===u?m:p},m.clickDistance=function(p){return arguments.length?(b=(p=+p)*p,m):Math.sqrt(b)},m.tapDistance=function(p){return arguments.length?(w=+p,m):w},m}function W(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jn(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function Vr(e,t){if(!!e){if(typeof e=="string")return Jn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Jn(e,t)}}function wd(e){if(Array.isArray(e))return e}function bd(e,t){var n=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var o=[],r=!0,i=!1,a,s;try{for(n=n.call(e);!(r=(a=n.next()).done)&&(o.push(a.value),!(t&&o.length===t));r=!0);}catch(l){i=!0,s=l}finally{try{!r&&n.return!=null&&n.return()}finally{if(i)throw s}}return o}}function Sd(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function K(e,t){return wd(e)||bd(e,t)||Vr(e,t)||Sd()}var gt;(function(e){e.Strict="strict",e.Loose="loose"})(gt||(gt={}));var Fr;(function(e){e.Lines="lines",e.Dots="dots"})(Fr||(Fr={}));var vt;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(vt||(vt={}));var ke;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(ke||(ke={}));var wn;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(wn||(wn={}));var R;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(R||(R={}));var eo=function(t){return{width:t.offsetWidth,height:t.offsetHeight}},pt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;return Math.min(Math.max(t,n),o)},Ur=function(t,n){return{x:pt(t.x,n[0][0],n[1][0]),y:pt(t.y,n[0][1],n[1][1])}},Zr=function(t){var n,o;return((n=t.getRootNode)===null||n===void 0?void 0:n.call(t))||((o=window)===null||o===void 0?void 0:o.document)},Kr=function(t,n){return{x:Math.min(t.x,n.x),y:Math.min(t.y,n.y),x2:Math.max(t.x2,n.x2),y2:Math.max(t.y2,n.y2)}},mt=function(t){var n=t.x,o=t.y,r=t.width,i=t.height;return{x:n,y:o,x2:n+r,y2:o+i}},Wr=function(t){var n=t.x,o=t.y,r=t.x2,i=t.y2;return{x:n,y:o,width:r-n,height:i-o}},Ed=function(t,n){return Wr(Kr(mt(t),mt(n)))},Gr=function(t){return!isNaN(t)&&isFinite(t)},re=Symbol("internals");function qr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,o)}return n}function Rt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qr(Object(n),!0).forEach(function(o){W(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qr(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function Qr(e,t){var n=e.find(function(u){return u.id===t.parentNode});if(n){var o=t.position.x+t.width-n.width,r=t.position.y+t.height-n.height;if(o>0||r>0||t.position.x<0||t.position.y<0){var i,a;if(n.style=Rt({},n.style)||{},n.style.width=(i=n.style.width)!==null&&i!==void 0?i:n.width,n.style.height=(a=n.style.height)!==null&&a!==void 0?a:n.height,o>0&&(n.style.width+=o),r>0&&(n.style.height+=r),t.position.x<0){var s=Math.abs(t.position.x);n.position.x=n.position.x-s,n.style.width+=s,t.position.x=0}if(t.position.y<0){var l=Math.abs(t.position.y);n.position.y=n.position.y-l,n.style.height+=l,t.position.y=0}n.width=n.style.width,n.height=n.style.height}}}function Cd(e,t){if(e.some(function(o){return o.type==="reset"}))return e.filter(function(o){return o.type==="reset"}).map(function(o){return o.item});var n=e.filter(function(o){return o.type==="add"}).map(function(o){return o.item});return t.reduce(function(o,r){var i=e.find(function(l){return l.id===r.id});if(i)switch(i.type){case"select":return o.push(Rt(Rt({},r),{},{selected:i.selected})),o;case"position":{var a=Rt({},r);return typeof i.position!="undefined"&&(a.position=i.position),typeof i.positionAbsolute!="undefined"&&(a.positionAbsolute=i.positionAbsolute),typeof i.dragging!="undefined"&&(a.dragging=i.dragging),a.expandParent&&Qr(o,a),o.push(a),o}case"dimensions":{var s=Rt({},r);return typeof i.dimensions!="undefined"&&(s.width=i.dimensions.width,s.height=i.dimensions.height),s.expandParent&&Qr(o,s),o.push(s),o}case"remove":return o}return o.push(r),o},n)}function Od(e,t){return Cd(e,t)}var Re=function(t,n){return{id:t,type:"select",selected:n}};function yt(e,t){return e.reduce(function(n,o){var r=t.includes(o.id);return!o.selected&&r?(o.selected=!0,n.push(Re(o.id,!0))):o.selected&&!r&&(o.selected=!1,n.push(Re(o.id,!1))),n},[])}function Jr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,o)}return n}function ei(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Jr(Object(n),!0).forEach(function(o){W(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jr(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}var ti=function(t,n,o){var r=n.querySelectorAll(t);if(!r||!r.length)return null;var i=Array.from(r),a=n.getBoundingClientRect();return i.map(function(s){var l=s.getBoundingClientRect();return ei({id:s.getAttribute("data-handleid"),position:s.getAttribute("data-handlepos"),x:(l.left-a.left)/o,y:(l.top-a.top)/o},eo(s))})};function It(e,t,n){return n===void 0?n:function(o){var r=t().nodeInternals.get(e);n(o,ei({},r))}}function ni(e){var t=e.id,n=e.store,o=n.getState(),r=o.addSelectedNodes,i=o.unselectNodesAndEdges,a=o.multiSelectionActive,s=o.nodeInternals,l=s.get(t);n.setState({nodesSelectionActive:!1}),l.selected?l.selected&&a&&i({nodes:[l]}):r([t])}function oi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,o)}return n}function jt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?oi(Object(n),!0).forEach(function(o){W(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oi(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}var xd=function(t){return"id"in t&&"source"in t&&"target"in t},Nd=function(t){var n=t.source,o=t.sourceHandle,r=t.target,i=t.targetHandle;return"reactflow__edge-".concat(n).concat(o||"","-").concat(r).concat(i||"")},to=function(t,n){if(typeof t=="undefined")return"";if(typeof t=="string")return t;var o=n?"".concat(n,"__"):"";return"".concat(o).concat(Object.keys(t).sort().map(function(r){return"".concat(r,"=").concat(t[r])}).join("&"))},Pd=function(t,n){return n.some(function(o){return o.source===t.source&&o.target===t.target&&(o.sourceHandle===t.sourceHandle||!o.sourceHandle&&!t.sourceHandle)&&(o.targetHandle===t.targetHandle||!o.targetHandle&&!t.targetHandle)})},_d=function(t,n){if(!t.source||!t.target)return n;var o;return xd(t)?o=jt({},t):o=jt(jt({},t),{},{id:Nd(t)}),Pd(o,n)?n:n.concat(o)},ri=function(t,n,o,r){var i=t.x,a=t.y,s=K(n,3),l=s[0],u=s[1],c=s[2],d=K(r,2),f=d[0],h=d[1],g={x:(i-l)/c,y:(a-u)/c};return o?{x:f*Math.round(g.x/f),y:h*Math.round(g.y/h)}:g},bn=function(t){if(t.length===0)return{x:0,y:0,width:0,height:0};var n=t.reduce(function(o,r){var i=r.positionAbsolute,a=r.position,s=r.width,l=r.height;return Kr(o,mt({x:i?i.x:a.x,y:i?i.y:a.y,width:s||0,height:l||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return Wr(n)},ii=function(t,n){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[0,0,1],r=K(o,3),i=r[0],a=r[1],s=r[2],l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,u=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,c=mt({x:(n.x-i)/s,y:(n.y-a)/s,width:n.width/s,height:n.height/s}),d=[];return t.forEach(function(f){var h=f.positionAbsolute,g=f.width,b=f.height,w=f.selectable,m=w===void 0?!0:w;if(u&&!m)return!1;var O=mt(jt(jt({},h),{},{width:g||0,height:b||0})),E=Math.max(0,Math.min(c.x2,O.x2)-Math.max(c.x,O.x)),v=Math.max(0,Math.min(c.y2,O.y2)-Math.max(c.y,O.y)),y=Math.ceil(E*v),C=typeof g=="undefined"||typeof b=="undefined"||g===null||b===null,P=l&&y>0,x=(g||0)*(b||0),D=C||P||y>=x;D&&d.push(f)}),d},ai=function(t,n){var o=t.map(function(r){return r.id});return n.filter(function(r){return o.includes(r.source)||o.includes(r.target)})},si=function(t,n,o,r,i){var a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:.1,s=n/(t.width*(1+a)),l=o/(t.height*(1+a)),u=Math.min(s,l),c=pt(u,r,i),d=t.x+t.width/2,f=t.y+t.height/2,h=n/2-d*c,g=o/2-f*c;return[h,g,c]},qe=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return t.transition().duration(n)};function li(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,o)}return n}function wt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?li(Object(n),!0).forEach(function(o){W(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):li(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function ci(e,t,n,o){var r,i,a,s,l,u,c,d,f,h,g,b;if(!e.parentNode)return o;var w=t.get(e.parentNode);return ci(w,t,n,{x:((r=o.x)!==null&&r!==void 0?r:0)+((i=(a=w.position)===null||a===void 0?void 0:a.x)!==null&&i!==void 0?i:0),y:((s=o.y)!==null&&s!==void 0?s:0)+((l=(u=w.position)===null||u===void 0?void 0:u.y)!==null&&l!==void 0?l:0),z:((c=(d=w[re])===null||d===void 0?void 0:d.z)!==null&&c!==void 0?c:0)>((f=o.z)!==null&&f!==void 0?f:0)?(h=(g=w[re])===null||g===void 0?void 0:g.z)!==null&&h!==void 0?h:0:(b=o.z)!==null&&b!==void 0?b:0})}function no(e,t){var n=new Map,o={};return e.forEach(function(r){var i,a=Gr(r.zIndex)?r.zIndex:r.selected?1e3:0,s=t.get(r.id),l=wt(wt({width:s==null?void 0:s.width,height:s==null?void 0:s.height},r),{},{positionAbsolute:{x:r.position.x,y:r.position.y}});r.parentNode&&(l.parentNode=r.parentNode,o[r.parentNode]=!0),Object.defineProperty(l,re,{enumerable:!1,value:{handleBounds:s==null||(i=s[re])===null||i===void 0?void 0:i.handleBounds,z:a}}),n.set(r.id,l)}),n.forEach(function(r){if(r.parentNode&&!n.has(r.parentNode))throw new Error("Parent node ".concat(r.parentNode," not found"));if(r.parentNode||o[r.id]){var i,a,s=ci(r,n,o,wt(wt({},r.position),{},{z:(i=(a=r[re])===null||a===void 0?void 0:a.z)!==null&&i!==void 0?i:0})),l=s.x,u=s.y,c=s.z;r.positionAbsolute={x:l,y:u},r[re].z=c,o[r.id]&&(r[re].isParent=!0)}}),n}function ui(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e(),o=n.nodeInternals,r=n.width,i=n.height,a=n.minZoom,s=n.maxZoom,l=n.d3Zoom,u=n.d3Selection,c=n.fitViewOnInitDone,d=n.fitViewOnInit;if((t.initial&&!c&&d||!t.initial)&&l&&u){var f=Array.from(o.values()).filter(function(x){return t.includeHiddenNodes?x.width&&x.height:!x.hidden}),h=f.every(function(x){return x.width&&x.height});if(f.length>0&&h){var g,b,w,m=bn(f),O=si(m,r,i,(g=t.minZoom)!==null&&g!==void 0?g:a,(b=t.maxZoom)!==null&&b!==void 0?b:s,(w=t.padding)!==null&&w!==void 0?w:.1),E=K(O,3),v=E[0],y=E[1],C=E[2],P=Ge.translate(v,y).scale(C);return typeof t.duration=="number"&&t.duration>0?l.transform(qe(u,t.duration),P):l.transform(u,P),!0}}return!1}function Md(e,t){return e.forEach(function(n){var o=t.get(n.id);if(o){var r;t.set(o.id,wt(wt({},o),{},(r={},W(r,re,o[re]),W(r,"selected",n.selected),r)))}}),new Map(t)}function Dd(e,t){return t.map(function(n){var o=e.find(function(r){return r.id===n.id});return o&&(n.selected=o.selected),n})}function Sn(e){var t=e.changedNodes,n=e.changedEdges,o=e.get,r=e.set,i=o(),a=i.nodeInternals,s=i.edges,l=i.onNodesChange,u=i.onEdgesChange,c=i.hasDefaultNodes,d=i.hasDefaultEdges;t!=null&&t.length&&(c&&r({nodeInternals:Md(t,a)}),l==null||l(t)),n!=null&&n.length&&(d&&r({edges:Dd(n,s)}),u==null||u(n))}var oo=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],di={width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:oo,nodeExtent:oo,nodesSelectionActive:!1,userSelectionActive:!1,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionMode:gt.Strict,domNode:null,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,elementsSelectable:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,multiSelectionActive:!1,reactFlowVersion:"10.3.17",connectionStartHandle:null,connectOnClick:!0};function fi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,o)}return n}function Ce(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fi(Object(n),!0).forEach(function(o){W(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fi(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}var ro=Ls(),kd=ro.Provider,ne=ro.useStore,se=ro.useStoreApi,$d=function(){return Ts(function(t,n){return Ce(Ce({},di),{},{setNodes:function(r){t({nodeInternals:no(r,n().nodeInternals)})},setEdges:function(r){var i=n(),a=i.defaultEdgeOptions,s=a===void 0?{}:a;t({edges:r.map(function(l){return Ce(Ce({},s),l)})})},setDefaultNodesAndEdges:function(r,i){var a=typeof r!="undefined",s=typeof i!="undefined",l=a?no(r,new Map):new Map,u=s?i:[];t({nodeInternals:l,edges:u,hasDefaultNodes:a,hasDefaultEdges:s})},updateNodeDimensions:function(r){var i=n(),a=i.onNodesChange,s=i.nodeInternals,l=i.fitViewOnInit,u=i.fitViewOnInitDone,c=i.fitViewOnInitOptions,d=i.domNode,f=d==null?void 0:d.querySelector(".react-flow__viewport");if(!!f){var h=window.getComputedStyle(f),g=new window.DOMMatrixReadOnly(h.transform),b=g.m22,w=r.reduce(function(O,E){var v=s.get(E.id);if(v){var y=eo(E.nodeElement),C=!!(y.width&&y.height&&(v.width!==y.width||v.height!==y.height||E.forceUpdate));C&&(s.set(v.id,Ce(Ce({},v),{},W({},re,Ce(Ce({},v[re]),{},{handleBounds:{source:ti(".source",E.nodeElement,b),target:ti(".target",E.nodeElement,b)}})),y)),O.push({id:v.id,type:"dimensions",dimensions:y}))}return O},[]),m=u||l&&!u&&ui(n,Ce({initial:!0},c));t({nodeInternals:new Map(s),fitViewOnInitDone:m}),(w==null?void 0:w.length)>0&&(a==null||a(w))}},updateNodePositions:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,s=n(),l=s.onNodesChange,u=s.nodeInternals,c=s.hasDefaultNodes;if(c||l){var d=r.map(function(g){var b={id:g.id,type:"position",dragging:a};return i&&(b.positionAbsolute=g.positionAbsolute,b.position=g.position),b});if(d!=null&&d.length){if(c){var f=Od(d,Array.from(u.values())),h=no(f,u);t({nodeInternals:h})}l==null||l(d)}}},addSelectedNodes:function(r){var i=n(),a=i.multiSelectionActive,s=i.nodeInternals,l=i.edges,u,c=null;a?u=r.map(function(d){return Re(d,!0)}):(u=yt(Array.from(s.values()),r),c=yt(l,[])),Sn({changedNodes:u,changedEdges:c,get:n,set:t})},addSelectedEdges:function(r){var i=n(),a=i.multiSelectionActive,s=i.edges,l=i.nodeInternals,u,c=null;a?u=r.map(function(d){return Re(d,!0)}):(u=yt(s,r),c=yt(Array.from(l.values()),[])),Sn({changedNodes:c,changedEdges:u,get:n,set:t})},unselectNodesAndEdges:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=r.nodes,a=r.edges,s=n(),l=s.nodeInternals,u=s.edges,c=i||Array.from(l.values()),d=a||u,f=c.map(function(g){return g.selected=!1,Re(g.id,!1)}),h=d.map(function(g){return Re(g.id,!1)});Sn({changedNodes:f,changedEdges:h,get:n,set:t})},setMinZoom:function(r){var i=n(),a=i.d3Zoom,s=i.maxZoom;a==null||a.scaleExtent([r,s]),t({minZoom:r})},setMaxZoom:function(r){var i=n(),a=i.d3Zoom,s=i.minZoom;a==null||a.scaleExtent([s,r]),t({maxZoom:r})},setTranslateExtent:function(r){var i=n(),a=i.d3Zoom;a==null||a.translateExtent(r),t({translateExtent:r})},resetSelectedElements:function(){var r=n(),i=r.nodeInternals,a=r.edges,s=Array.from(i.values()),l=s.filter(function(c){return c.selected}).map(function(c){return Re(c.id,!1)}),u=a.filter(function(c){return c.selected}).map(function(c){return Re(c.id,!1)});Sn({changedNodes:l,changedEdges:u,get:n,set:t})},setNodeExtent:function(r){var i=n(),a=i.nodeInternals;a.forEach(function(s){s.positionAbsolute=Ur(s.position,r)}),t({nodeExtent:r,nodeInternals:new Map(a)})},reset:function(){return t(Ce({},di))}})})};function he(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,o;n<e.length;n++)(o=he(e[n]))!==""&&(t+=(t&&" ")+o);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}function le(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(let o=0;o<n.length;o++)if(!Object.prototype.hasOwnProperty.call(t,n[o])||!Object.is(e[n[o]],t[n[o]]))return!1;return!0}const hi=window.React.useMemo,$e=window.React.useCallback;function Ad(e){if(Array.isArray(e))return Jn(e)}function zd(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Td(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qe(e){return Ad(e)||zd(e)||Vr(e)||Td()}var Bd={zoomIn:function(){},zoomOut:function(){},zoomTo:function(t){},getZoom:function(){return 1},setViewport:function(t){},getViewport:function(){return{x:0,y:0,zoom:1}},fitView:function(){},setCenter:function(t,n){},fitBounds:function(t){},project:function(t){return t},viewportInitialized:!1},Rd=function(t){return{d3Zoom:t.d3Zoom,d3Selection:t.d3Selection}},Id=function(){var t=se(),n=ne(Rd,le),o=n.d3Zoom,r=n.d3Selection,i=hi(function(){return r&&o?{zoomIn:function(s){return o.scaleBy(qe(r,s==null?void 0:s.duration),1.2)},zoomOut:function(s){return o.scaleBy(qe(r,s==null?void 0:s.duration),1/1.2)},zoomTo:function(s,l){return o.scaleTo(qe(r,l==null?void 0:l.duration),s)},getZoom:function(){return t.getState().transform[2]},setViewport:function(s,l){var u,c,d,f=K(t.getState().transform,3),h=f[0],g=f[1],b=f[2],w=Ge.translate((u=s.x)!==null&&u!==void 0?u:h,(c=s.y)!==null&&c!==void 0?c:g).scale((d=s.zoom)!==null&&d!==void 0?d:b);o.transform(qe(r,l==null?void 0:l.duration),w)},getViewport:function(){var s=K(t.getState().transform,3),l=s[0],u=s[1],c=s[2];return{x:l,y:u,zoom:c}},fitView:function(s){return ui(t.getState,s)},setCenter:function(s,l,u){var c=t.getState(),d=c.width,f=c.height,h=c.maxZoom,g=typeof(u==null?void 0:u.zoom)!="undefined"?u.zoom:h,b=d/2-s*g,w=f/2-l*g,m=Ge.translate(b,w).scale(g);o.transform(qe(r,u==null?void 0:u.duration),m)},fitBounds:function(s,l){var u,c=t.getState(),d=c.width,f=c.height,h=c.minZoom,g=c.maxZoom,b=si(s,d,f,h,g,(u=l==null?void 0:l.padding)!==null&&u!==void 0?u:.1),w=K(b,3),m=w[0],O=w[1],E=w[2],v=Ge.translate(m,O).scale(E);o.transform(qe(r,l==null?void 0:l.duration),v)},project:function(s){var l=t.getState(),u=l.transform,c=l.snapToGrid,d=l.snapGrid;return ri(s,u,c,d)},viewportInitialized:!0}:Bd},[o,r]);return i};function gi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,o)}return n}function bt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gi(Object(n),!0).forEach(function(o){W(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gi(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function jd(){var e=Id(),t=se(),n=$e(function(){var d=t.getState(),f=d.nodeInternals,h=Array.from(f.values());return h.map(function(g){return bt({},g)})},[]),o=$e(function(d){var f=t.getState(),h=f.nodeInternals;return h.get(d)},[]),r=$e(function(){var d=t.getState(),f=d.edges,h=f===void 0?[]:f;return h.map(function(g){return bt({},g)})},[]),i=$e(function(d){var f=t.getState(),h=f.edges,g=h===void 0?[]:h;return g.find(function(b){return b.id===d})},[]),a=$e(function(d){var f=t.getState(),h=f.nodeInternals,g=f.setNodes,b=f.hasDefaultNodes,w=f.onNodesChange,m=Array.from(h.values()),O=typeof d=="function"?d(m):d;if(b)g(O);else if(w){var E=O.length===0?m.map(function(v){return{type:"remove",id:v.id}}):O.map(function(v){return{item:v,type:"reset"}});w(E)}},[]),s=$e(function(d){var f=t.getState(),h=f.edges,g=h===void 0?[]:h,b=f.setEdges,w=f.hasDefaultEdges,m=f.onEdgesChange,O=typeof d=="function"?d(g):d;if(w)b(O);else if(m){var E=O.length===0?g.map(function(v){return{type:"remove",id:v.id}}):O.map(function(v){return{item:v,type:"reset"}});m(E)}},[]),l=$e(function(d){var f=Array.isArray(d)?d:[d],h=t.getState(),g=h.nodeInternals,b=h.setNodes,w=h.hasDefaultNodes,m=h.onNodesChange;if(w){var O=Array.from(g.values()),E=[].concat(O,Qe(f));b(E)}else if(m){var v=f.map(function(y){return{item:y,type:"add"}});m(v)}},[]),u=$e(function(d){var f=Array.isArray(d)?d:[d],h=t.getState(),g=h.edges,b=g===void 0?[]:g,w=h.setEdges,m=h.hasDefaultEdges,O=h.onEdgesChange;if(m)w([].concat(Qe(b),Qe(f)));else if(O){var E=f.map(function(v){return{item:v,type:"add"}});O(E)}},[]),c=$e(function(){var d=t.getState(),f=d.nodeInternals,h=d.edges,g=h===void 0?[]:h,b=d.transform,w=Array.from(f.values()),m=K(b,3),O=m[0],E=m[1],v=m[2];return{nodes:w.map(function(y){return bt({},y)}),edges:g.map(function(y){return bt({},y)}),viewport:{x:O,y:E,zoom:v}}},[]);return hi(function(){return bt(bt({},e),{},{getNodes:n,getNode:o,getEdges:r,getEdge:i,setNodes:a,setEdges:s,addNodes:l,addEdges:u,toObject:c})},[e,n,o,r,i,a,s,l,u,c])}window.React.memo;window.React.useState;window.React.useEffect;function Ld(e,t){if(e==null)return{};var n={},o=Object.keys(e),r,i;for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&(n[r]=e[r]);return n}function io(e,t){if(e==null)return{};var n=Ld(e,t),o,r;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)o=i[r],!(t.indexOf(o)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,o)||(n[o]=e[o]))}return n}const vi=window.React.memo;var pi=function(t){var n=t.x,o=t.y,r=t.width,i=t.height,a=t.style,s=t.color,l=t.strokeColor,u=t.strokeWidth,c=t.className,d=t.borderRadius,f=t.shapeRendering,h=a||{},g=h.background,b=h.backgroundColor,w=s||g||b;return N("rect",{className:he(["react-flow__minimap-node",c]),x:n,y:o,rx:d,ry:d,width:r,height:i,fill:w,stroke:l,strokeWidth:u,shapeRendering:f})};pi.displayName="MiniMapNode";var Hd=vi(pi),Xd=200,Yd=150,Vd=function(t){return{viewBBox:{x:-t.transform[0]/t.transform[2],y:-t.transform[1]/t.transform[2],width:t.width/t.transform[2],height:t.height/t.transform[2]},nodes:Array.from(t.nodeInternals.values())}},ao=function(t){return t instanceof Function?t:function(){return t}},mi=function(t){var n,o,r=t.style,i=t.className,a=t.nodeStrokeColor,s=a===void 0?"#555":a,l=t.nodeColor,u=l===void 0?"#fff":l,c=t.nodeClassName,d=c===void 0?"":c,f=t.nodeBorderRadius,h=f===void 0?5:f,g=t.nodeStrokeWidth,b=g===void 0?2:g,w=t.maskColor,m=w===void 0?"rgb(240, 242, 243, 0.7)":w,O=ne(Vd,le),E=O.viewBBox,v=O.nodes,y=(n=r==null?void 0:r.width)!==null&&n!==void 0?n:Xd,C=(o=r==null?void 0:r.height)!==null&&o!==void 0?o:Yd,P=ao(u),x=ao(s),D=ao(d),B=v.length>0?Ed(bn(v),E):E,T=B.width/y,H=B.height/C,Y=Math.max(T,H),p=Y*y,_=Y*C,S=5*Y,M=B.x-(p-B.width)/2-S,$=B.y-(_-B.height)/2-S,k=p+S*2,A=_+S*2,I=typeof window=="undefined"||!!window.chrome?"crispEdges":"geometricPrecision";return Q("svg",{width:y,height:C,viewBox:"".concat(M," ").concat($," ").concat(k," ").concat(A),style:r,className:he(["react-flow__minimap",i]),children:[v.filter(function(j){return!j.hidden&&j.width&&j.height}).map(function(j){var L,V,U,Z;return N(Hd,{x:(L=(V=j.positionAbsolute)===null||V===void 0?void 0:V.x)!==null&&L!==void 0?L:0,y:(U=(Z=j.positionAbsolute)===null||Z===void 0?void 0:Z.y)!==null&&U!==void 0?U:0,width:j.width,height:j.height,style:j.style,className:D(j),color:P(j),borderRadius:h,strokeColor:x(j),strokeWidth:b,shapeRendering:I},j.id)}),N("path",{className:"react-flow__minimap-mask",d:"M".concat(M-S,",").concat($-S,"h").concat(k+S*2,"v").concat(A+S*2,"h").concat(-k-S*2,`z
        M`).concat(E.x,",").concat(E.y,"h").concat(E.width,"v").concat(E.height,"h").concat(-E.width,"z"),fill:m,fillRule:"evenodd"})]})};mi.displayName="MiniMap";var Fd=vi(mi);const yi=window.React,ee=window.React.memo,oe=window.React.useRef,Lt=window.React.useState,te=window.React.useEffect,Ud=window.React.createContext,wi=window.React.forwardRef,Zd=window.React.useContext,St=window.React.useMemo,Ht=window.React.useCallback;var Kd=["paid-pro","paid-sponsor","paid-enterprise","paid-custom"];function Wd(e){var t=e.proOptions,n=e.position,o=n===void 0?"bottom-right":n;if(t!=null&&t.account&&Kd.includes(t==null?void 0:t.account)&&t!==null&&t!==void 0&&t.hideAttribution)return null;var r="".concat(o).split("-");return N("div",{className:he(["react-flow__attribution"].concat(Qe(r))),"data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev/pricing",children:N("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer",children:"React Flow"})})}var Gd=["x","y","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","children","className"];function bi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,o)}return n}function qd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bi(Object(n),!0).forEach(function(o){W(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bi(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}var Qd=function(t){var n=t.x,o=t.y,r=t.label,i=t.labelStyle,a=i===void 0?{}:i,s=t.labelShowBg,l=s===void 0?!0:s,u=t.labelBgStyle,c=u===void 0?{}:u,d=t.labelBgPadding,f=d===void 0?[2,4]:d,h=t.labelBgBorderRadius,g=h===void 0?2:h,b=t.children,w=t.className,m=io(t,Gd),O=oe(null),E=Lt({x:0,y:0,width:0,height:0}),v=K(E,2),y=v[0],C=v[1],P=he(["react-flow__edge-textwrapper",w]);return te(function(){if(O.current){var x=O.current.getBBox();C({x:x.x,y:x.y,width:x.width,height:x.height})}},[r]),typeof r=="undefined"||!r?null:Q("g",Qt(lt({},qd({transform:"translate(".concat(n-y.width/2," ").concat(o-y.height/2,")"),className:P},m)),{children:[l&&N("rect",{width:y.width+2*f[0],x:-f[0],y:-f[1],height:y.height+2*f[1],className:"react-flow__edge-textbg",style:c,rx:g,ry:g}),N("text",{className:"react-flow__edge-text",y:y.height/2,dy:"0.3em",ref:O,style:a,children:r}),b]}))},Jd=ee(Qd),En=function(e){var t=e.path,n=e.centerX,o=e.centerY,r=e.label,i=e.labelStyle,a=e.labelShowBg,s=e.labelBgStyle,l=e.labelBgPadding,u=e.labelBgBorderRadius,c=e.style,d=e.markerEnd,f=e.markerStart,h=r?N(Jd,{x:n,y:o,label:r,labelStyle:i,labelShowBg:a,labelBgStyle:s,labelBgPadding:l,labelBgBorderRadius:u}):null;return Q(st,{children:[N("path",{style:c,d:t,className:"react-flow__edge-path",markerEnd:d,markerStart:f}),h]})};function Cn(e){var t=e.pos,n=e.x1,o=e.y1,r=e.x2,i=e.y2,a,s;switch(t){case R.Left:case R.Right:a=.5*(n+r),s=o;break;case R.Top:case R.Bottom:a=n,s=.5*(o+i);break}return[a,s]}function Si(e){var t=e.sourceX,n=e.sourceY,o=e.sourcePosition,r=o===void 0?R.Bottom:o,i=e.targetX,a=e.targetY,s=e.targetPosition,l=s===void 0?R.Top:s,u=Cn({pos:r,x1:t,y1:n,x2:i,y2:a}),c=K(u,2),d=c[0],f=c[1],h=Cn({pos:l,x1:i,y1:a,x2:t,y2:n}),g=K(h,2),b=g[0],w=g[1];return"M".concat(t,",").concat(n," C").concat(d,",").concat(f," ").concat(b,",").concat(w," ").concat(i,",").concat(a)}function ef(e){var t=e.sourceX,n=e.sourceY,o=e.sourcePosition,r=o===void 0?R.Bottom:o,i=e.targetX,a=e.targetY,s=e.targetPosition,l=s===void 0?R.Top:s,u=Cn({pos:r,x1:t,y1:n,x2:i,y2:a}),c=K(u,2),d=c[0],f=c[1],h=Cn({pos:l,x1:i,y1:a,x2:t,y2:n}),g=K(h,2),b=g[0],w=g[1],m=t*.125+d*.375+b*.375+i*.125,O=n*.125+f*.375+w*.375+a*.125,E=Math.abs(m-t),v=Math.abs(O-n);return[m,O,E,v]}var Ei=ee(function(e){var t=e.sourceX,n=e.sourceY,o=e.targetX,r=e.targetY,i=e.sourcePosition,a=i===void 0?R.Bottom:i,s=e.targetPosition,l=s===void 0?R.Top:s,u=e.label,c=e.labelStyle,d=e.labelShowBg,f=e.labelBgStyle,h=e.labelBgPadding,g=e.labelBgBorderRadius,b=e.style,w=e.markerEnd,m=e.markerStart,O={sourceX:t,sourceY:n,sourcePosition:a,targetX:o,targetY:r,targetPosition:l},E=Si(O),v=ef(O),y=K(v,2),C=y[0],P=y[1];return N(En,{path:E,centerX:C,centerY:P,label:u,labelStyle:c,labelShowBg:d,labelBgStyle:f,labelBgPadding:h,labelBgBorderRadius:g,style:b,markerEnd:w,markerStart:m})});function Ci(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,o)}return n}function tf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ci(Object(n),!0).forEach(function(o){W(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ci(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}var Oi=[R.Left,R.Right],xi=function(t){var n=t.sourceX,o=t.sourceY,r=t.targetX,i=t.targetY,a=t.sourcePosition,s=a===void 0?R.Bottom:a,l=t.targetPosition,u=l===void 0?R.Top:l,c=Oi.includes(s),d=Oi.includes(u),f=c&&!d||d&&!c;if(f){var h=c?Math.abs(r-n):0,g=n>r?n-h:n+h,b=c?0:Math.abs(i-o),w=o<i?o+b:o-b;return[g,w,h,b]}var m=Math.abs(r-n)/2,O=r<n?r+m:r-m,E=Math.abs(i-o)/2,v=i<o?i+E:i-E;return[O,v,m,E]};function Xt(e,t,n){return n===void 0?n:function(o){var r=t().edges.find(function(i){return i.id===e});n(o,tf({},r))}}var so=function(t,n,o){return"L ".concat(t,",").concat(n-o,"Q ").concat(t,",").concat(n," ").concat(t+o,",").concat(n)},lo=function(t,n,o){return"L ".concat(t+o,",").concat(n,"Q ").concat(t,",").concat(n," ").concat(t,",").concat(n-o)},co=function(t,n,o){return"L ".concat(t,",").concat(n-o,"Q ").concat(t,",").concat(n," ").concat(t-o,",").concat(n)},uo=function(t,n,o){return"L ".concat(t-o,",").concat(n,"Q ").concat(t,",").concat(n," ").concat(t,",").concat(n-o)},fo=function(t,n,o){return"L ".concat(t+o,",").concat(n,"Q ").concat(t,",").concat(n," ").concat(t,",").concat(n+o)},ho=function(t,n,o){return"L ".concat(t,",").concat(n+o,"Q ").concat(t,",").concat(n," ").concat(t+o,",").concat(n)},go=function(t,n,o){return"L ".concat(t,",").concat(n+o,"Q ").concat(t,",").concat(n," ").concat(t-o,",").concat(n)},vo=function(t,n,o){return"L ".concat(t-o,",").concat(n,"Q ").concat(t,",").concat(n," ").concat(t,",").concat(n+o)};function po(e){var t=e.sourceX,n=e.sourceY,o=e.sourcePosition,r=o===void 0?R.Bottom:o,i=e.targetX,a=e.targetY,s=e.targetPosition,l=s===void 0?R.Top:s,u=e.borderRadius,c=u===void 0?5:u,d=e.centerX,f=e.centerY,h=xi({sourceX:t,sourceY:n,targetX:i,targetY:a}),g=K(h,4),b=g[0],w=g[1],m=g[2],O=g[3],E=Math.min(c,Math.abs(i-t)),v=Math.min(c,Math.abs(a-n)),y=Math.min(E,v,m,O),C=[R.Left,R.Right],P=typeof d!="undefined"?d:b,x=typeof f!="undefined"?f:w,D=null,B=null;return t<=i?(D=n<=a?so(t,x,y):ho(t,x,y),B=n<=a?vo(i,x,y):uo(i,x,y)):(D=n<a?co(t,x,y):go(t,x,y),B=n<a?fo(i,x,y):lo(i,x,y)),C.includes(r)&&C.includes(l)?t<=i?(D=n<=a?vo(P,n,y):uo(P,n,y),B=n<=a?so(P,a,y):ho(P,a,y)):(r===R.Right&&l===R.Left||r===R.Left&&l===R.Right||r===R.Left&&l===R.Left)&&(D=n<=a?fo(P,n,y):lo(P,n,y),B=n<=a?co(P,a,y):go(P,a,y)):C.includes(r)&&!C.includes(l)?(t<=i?D=n<=a?vo(i,n,y):uo(i,n,y):D=n<=a?fo(i,n,y):lo(i,n,y),B=""):!C.includes(r)&&C.includes(l)&&(t<=i?D=n<=a?so(t,a,y):ho(t,a,y):D=n<=a?co(t,a,y):go(t,a,y),B=""),"M ".concat(t,",").concat(n).concat(D).concat(B,"L ").concat(i,",").concat(a)}var mo=ee(function(e){var t=e.sourceX,n=e.sourceY,o=e.targetX,r=e.targetY,i=e.label,a=e.labelStyle,s=e.labelShowBg,l=e.labelBgStyle,u=e.labelBgPadding,c=e.labelBgBorderRadius,d=e.style,f=e.sourcePosition,h=f===void 0?R.Bottom:f,g=e.targetPosition,b=g===void 0?R.Top:g,w=e.markerEnd,m=e.markerStart,O=e.borderRadius,E=O===void 0?5:O,v=xi({sourceX:t,sourceY:n,targetX:o,targetY:r,sourcePosition:h,targetPosition:b}),y=K(v,2),C=y[0],P=y[1],x=po({sourceX:t,sourceY:n,sourcePosition:h,targetX:o,targetY:r,targetPosition:b,borderRadius:E});return N(En,{path:x,centerX:C,centerY:P,label:i,labelStyle:a,labelShowBg:s,labelBgStyle:l,labelBgPadding:u,labelBgBorderRadius:c,style:d,markerEnd:w,markerStart:m})});function Ni(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,o)}return n}function Pi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ni(Object(n),!0).forEach(function(o){W(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ni(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}var _i=ee(function(e){return N(mo,lt({},Pi(Pi({},e),{},{borderRadius:0})))}),Mi=ee(function(e){var t=e.sourceX,n=e.sourceY,o=e.targetX,r=e.targetY,i=e.label,a=e.labelStyle,s=e.labelShowBg,l=e.labelBgStyle,u=e.labelBgPadding,c=e.labelBgBorderRadius,d=e.style,f=e.markerEnd,h=e.markerStart,g=Math.abs(r-n)/2,b=r<n?r+g:r-g,w=Math.abs(o-t)/2,m=o<t?o+w:o-w,O="M ".concat(t,",").concat(n,"L ").concat(o,",").concat(r);return N(En,{path:O,centerX:m,centerY:b,label:i,labelStyle:a,labelShowBg:s,labelBgStyle:l,labelBgPadding:u,labelBgBorderRadius:c,style:d,markerEnd:f,markerStart:h})});function On(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function xn(e){var t=e.pos,n=e.x1,o=e.y1,r=e.x2,i=e.y2,a=e.c,s,l;switch(t){case R.Left:s=n-On(n-r,a),l=o;break;case R.Right:s=n+On(r-n,a),l=o;break;case R.Top:s=n,l=o-On(o-i,a);break;case R.Bottom:s=n,l=o+On(i-o,a);break}return[s,l]}function Di(e){var t=e.sourceX,n=e.sourceY,o=e.sourcePosition,r=o===void 0?R.Bottom:o,i=e.targetX,a=e.targetY,s=e.targetPosition,l=s===void 0?R.Top:s,u=e.curvature,c=u===void 0?.25:u,d=xn({pos:r,x1:t,y1:n,x2:i,y2:a,c}),f=K(d,2),h=f[0],g=f[1],b=xn({pos:l,x1:i,y1:a,x2:t,y2:n,c}),w=K(b,2),m=w[0],O=w[1];return"M".concat(t,",").concat(n," C").concat(h,",").concat(g," ").concat(m,",").concat(O," ").concat(i,",").concat(a)}function nf(e){var t=e.sourceX,n=e.sourceY,o=e.sourcePosition,r=o===void 0?R.Bottom:o,i=e.targetX,a=e.targetY,s=e.targetPosition,l=s===void 0?R.Top:s,u=e.curvature,c=u===void 0?.25:u,d=xn({pos:r,x1:t,y1:n,x2:i,y2:a,c}),f=K(d,2),h=f[0],g=f[1],b=xn({pos:l,x1:i,y1:a,x2:t,y2:n,c}),w=K(b,2),m=w[0],O=w[1],E=t*.125+h*.375+m*.375+i*.125,v=n*.125+g*.375+O*.375+a*.125,y=Math.abs(E-t),C=Math.abs(v-n);return[E,v,y,C]}var yo=ee(function(e){var t=e.sourceX,n=e.sourceY,o=e.targetX,r=e.targetY,i=e.sourcePosition,a=i===void 0?R.Bottom:i,s=e.targetPosition,l=s===void 0?R.Top:s,u=e.label,c=e.labelStyle,d=e.labelShowBg,f=e.labelBgStyle,h=e.labelBgPadding,g=e.labelBgBorderRadius,b=e.style,w=e.markerEnd,m=e.markerStart,O=e.curvature,E={sourceX:t,sourceY:n,sourcePosition:a,targetX:o,targetY:r,targetPosition:l,curvature:O},v=Di(E),y=nf(E),C=K(y,2),P=C[0],x=C[1];return N(En,{path:v,centerX:P,centerY:x,label:u,labelStyle:c,labelShowBg:d,labelBgStyle:f,labelBgPadding:h,labelBgBorderRadius:g,style:b,markerEnd:w,markerStart:m})}),wo=Ud(null),of=wo.Provider;wo.Consumer;function bo(e,t,n,o,r,i,a){var s=a.elementFromPoint(e.clientX,e.clientY),l=(s==null?void 0:s.classList.contains("target"))||!1,u=(s==null?void 0:s.classList.contains("source"))||!1,c={elementBelow:s,isValid:!1,connection:{source:null,target:null,sourceHandle:null,targetHandle:null},isHoveringHandle:!1};if(s&&(l||u)){c.isHoveringHandle=!0;var d=s.getAttribute("data-nodeid"),f=s.getAttribute("data-handleid"),h=n?{source:d,sourceHandle:f,target:o,targetHandle:r}:{source:o,sourceHandle:r,target:d,targetHandle:f};c.connection=h;var g=t===gt.Strict?n&&u||!n&&l:!0;g&&(c.isValid=i(h))}return c}function So(e){e==null||e.classList.remove("react-flow__handle-valid"),e==null||e.classList.remove("react-flow__handle-connecting")}function ki(e){var t=e.event,n=e.handleId,o=e.nodeId,r=e.onConnect,i=e.isTarget,a=e.getState,s=e.setState,l=e.isValidConnection,u=e.elementEdgeUpdaterType,c=e.onEdgeUpdateEnd,d=t.target.closest(".react-flow"),f=Zr(t.target);if(!f)return;var h=f.elementFromPoint(t.clientX,t.clientY),g=h==null?void 0:h.classList.contains("target"),b=h==null?void 0:h.classList.contains("source");if(!d||!g&&!b&&!u)return;var w=a(),m=w.onConnectStart,O=w.connectionMode,E=u||(g?"target":"source"),v=d.getBoundingClientRect(),y;s({connectionPosition:{x:t.clientX-v.left,y:t.clientY-v.top},connectionNodeId:o,connectionHandleId:n,connectionHandleType:E}),m==null||m(t,{nodeId:o,handleId:n,handleType:E});function C(x){s({connectionPosition:{x:x.clientX-v.left,y:x.clientY-v.top}});var D=bo(x,O,i,o,n,l,f),B=D.connection,T=D.elementBelow,H=D.isValid,Y=D.isHoveringHandle;if(!Y)return So(y);B.source!==B.target&&T&&(So(y),y=T,T.classList.add("react-flow__handle-connecting"),T.classList.toggle("react-flow__handle-valid",H))}function P(x){var D=a(),B=D.onConnectStop,T=D.onConnectEnd,H=bo(x,O,i,o,n,l,f),Y=H.connection,p=H.isValid;B==null||B(x),p&&(r==null||r(Y)),T==null||T(x),u&&c&&c(x),So(y),s({connectionNodeId:null,connectionHandleId:null,connectionHandleType:null}),f.removeEventListener("mousemove",C),f.removeEventListener("mouseup",P)}f.addEventListener("mousemove",C),f.addEventListener("mouseup",P)}var rf=["type","position","isValidConnection","isConnectable","id","onConnect","children","className","onMouseDown"];function $i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,o)}return n}function Eo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$i(Object(n),!0).forEach(function(o){W(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$i(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}var af=function(){return!0},sf=function(t){return{connectionStartHandle:t.connectionStartHandle,connectOnClick:t.connectOnClick}},Ai=wi(function(e,t){var n=e.type,o=n===void 0?"source":n,r=e.position,i=r===void 0?R.Top:r,a=e.isValidConnection,s=a===void 0?af:a,l=e.isConnectable,u=l===void 0?!0:l,c=e.id,d=e.onConnect,f=e.children,h=e.className,g=e.onMouseDown,b=io(e,rf),w=se(),m=Zd(wo),O=ne(sf,le),E=O.connectionStartHandle,v=O.connectOnClick,y=c||null,C=o==="target",P=function(T){var H=w.getState(),Y=H.defaultEdgeOptions,p=H.onConnect,_=H.hasDefaultEdges,S=Eo(Eo({},Y),T);if(_){var M=w.getState(),$=M.edges;w.setState({edges:_d(S,$)})}p==null||p(S),d==null||d(S)},x=function(T){T.button===0&&ki({event:T,handleId:y,nodeId:m,onConnect:P,isTarget:C,getState:w.getState,setState:w.setState,isValidConnection:s}),g==null||g(T)},D=function(T){var H=w.getState(),Y=H.onClickConnectStart,p=H.onClickConnectStop,_=H.onClickConnectEnd,S=H.connectionMode;if(!E){Y==null||Y(T,{nodeId:m,handleId:y,handleType:o}),w.setState({connectionStartHandle:{nodeId:m,type:o,handleId:y}});return}var M=Zr(T.target),$=bo(T,S,E.type==="target",E.nodeId,E.handleId||null,s,M),k=$.connection,A=$.isValid;p==null||p(T),A&&P(k),_==null||_(T),w.setState({connectionStartHandle:null})};return N("div",Qt(lt({},Eo({"data-handleid":y,"data-nodeid":m,"data-handlepos":i,className:he(["react-flow__handle","react-flow__handle-".concat(i),"nodrag",h,{source:!C,target:C,connectable:u,connecting:(E==null?void 0:E.nodeId)===m&&(E==null?void 0:E.handleId)===y&&(E==null?void 0:E.type)===o}]),onMouseDown:x,onClick:v?D:void 0,ref:t},b)),{children:f}))});Ai.displayName="Handle";var Et=ee(Ai),zi=function(t){var n=t.data,o=t.isConnectable,r=t.targetPosition,i=r===void 0?R.Top:r,a=t.sourcePosition,s=a===void 0?R.Bottom:a;return Q(st,{children:[N(Et,{type:"target",position:i,isConnectable:o}),n==null?void 0:n.label,N(Et,{type:"source",position:s,isConnectable:o})]})};zi.displayName="DefaultNode";var Co=ee(zi),Ti=function(t){var n=t.data,o=t.isConnectable,r=t.sourcePosition,i=r===void 0?R.Bottom:r;return Q(st,{children:[n==null?void 0:n.label,N(Et,{type:"source",position:i,isConnectable:o})]})};Ti.displayName="InputNode";var Bi=ee(Ti),Ri=function(t){var n=t.data,o=t.isConnectable,r=t.targetPosition,i=r===void 0?R.Top:r;return Q(st,{children:[N(Et,{type:"target",position:i,isConnectable:o}),n==null?void 0:n.label]})};Ri.displayName="OutputNode";var Ii=ee(Ri),lf=function(t){return{selectedNodes:Array.from(t.nodeInternals.values()).filter(function(n){return n.selected}),selectedEdges:t.edges.filter(function(n){return n.selected})}},cf=function(t,n){var o=t.selectedNodes.map(function(s){return s.id}),r=n.selectedNodes.map(function(s){return s.id}),i=t.selectedEdges.map(function(s){return s.id}),a=n.selectedEdges.map(function(s){return s.id});return le(o,r)&&le(i,a)};function uf(e){var t=e.onSelectionChange,n=ne(lf,cf),o=n.selectedNodes,r=n.selectedEdges;return te(function(){t({nodes:o,edges:r})},[o,r]),null}var df=ee(uf),ff=function(t){return{setNodes:t.setNodes,setEdges:t.setEdges,setDefaultNodesAndEdges:t.setDefaultNodesAndEdges,setMinZoom:t.setMinZoom,setMaxZoom:t.setMaxZoom,setTranslateExtent:t.setTranslateExtent,setNodeExtent:t.setNodeExtent,reset:t.reset}};function Ie(e,t){te(function(){typeof e!="undefined"&&t(e)},[e])}function q(e,t,n){te(function(){typeof t!="undefined"&&n(W({},e,t))},[t])}var hf=function(t){var n=t.nodes,o=t.edges,r=t.defaultNodes,i=t.defaultEdges,a=t.onConnect,s=t.onConnectStart,l=t.onConnectStop,u=t.onConnectEnd,c=t.onClickConnectStart,d=t.onClickConnectStop,f=t.onClickConnectEnd,h=t.nodesDraggable,g=t.nodesConnectable,b=t.minZoom,w=t.maxZoom,m=t.nodeExtent,O=t.onNodesChange,E=t.onEdgesChange,v=t.elementsSelectable,y=t.connectionMode,C=t.snapGrid,P=t.snapToGrid,x=t.translateExtent,D=t.connectOnClick,B=t.defaultEdgeOptions,T=t.fitView,H=t.fitViewOptions,Y=t.onNodesDelete,p=t.onEdgesDelete,_=t.onNodeDrag,S=t.onNodeDragStart,M=t.onNodeDragStop,$=t.onSelectionDrag,k=t.onSelectionDragStart,A=t.onSelectionDragStop,I=ne(ff,le),j=I.setNodes,L=I.setEdges,V=I.setDefaultNodesAndEdges,U=I.setMinZoom,Z=I.setMaxZoom,z=I.setTranslateExtent,F=I.setNodeExtent,G=I.reset,X=se();return te(function(){return V(r,i),function(){G()}},[]),q("defaultEdgeOptions",B,X.setState),q("connectionMode",y,X.setState),q("onConnect",a,X.setState),q("onConnectStart",s,X.setState),q("onConnectStop",l,X.setState),q("onConnectEnd",u,X.setState),q("onClickConnectStart",c,X.setState),q("onClickConnectStop",d,X.setState),q("onClickConnectEnd",f,X.setState),q("nodesDraggable",h,X.setState),q("nodesConnectable",g,X.setState),q("elementsSelectable",v,X.setState),q("snapToGrid",P,X.setState),q("snapGrid",C,X.setState),q("onNodesChange",O,X.setState),q("onEdgesChange",E,X.setState),q("connectOnClick",D,X.setState),q("fitViewOnInit",T,X.setState),q("fitViewOnInitOptions",H,X.setState),q("onNodesDelete",Y,X.setState),q("onEdgesDelete",p,X.setState),q("onNodeDrag",_,X.setState),q("onNodeDragStart",S,X.setState),q("onNodeDragStop",M,X.setState),q("onSelectionDrag",$,X.setState),q("onSelectionDragStart",k,X.setState),q("onSelectionDragStop",A,X.setState),Ie(n,j),Ie(o,L),Ie(r,j),Ie(i,L),Ie(b,U),Ie(w,Z),Ie(x,z),Ie(m,F),null},gf=".react-flow{height:100%;overflow:hidden;position:relative;width:100%}.react-flow__container{height:100%;left:0;position:absolute;top:0;width:100%}.react-flow__pane{z-index:1}.react-flow__viewport{pointer-events:none;transform-origin:0 0;z-index:2}.react-flow__renderer{z-index:4}.react-flow__selectionpane{z-index:5}.react-flow .react-flow__edges{overflow:visible;pointer-events:none}.react-flow .react-flow__connectionline{z-index:1001}.react-flow__edge{pointer-events:visibleStroke}.react-flow__edge.inactive{pointer-events:none}@-webkit-keyframes dashdraw{0%{stroke-dashoffset:10}}@keyframes dashdraw{0%{stroke-dashoffset:10}}.react-flow__edge-path{fill:none}.react-flow__edge-textwrapper{pointer-events:all}.react-flow__edge-text{pointer-events:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.react-flow__connection{pointer-events:none}.react-flow__connection .animated{stroke-dasharray:5;-webkit-animation:dashdraw .5s linear infinite;animation:dashdraw .5s linear infinite}.react-flow__connection-path{fill:none}.react-flow__nodes{pointer-events:none;transform-origin:0 0}.react-flow__node{box-sizing:border-box;pointer-events:all;position:absolute;transform-origin:0 0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.react-flow__nodesselection{pointer-events:none;transform-origin:left top;z-index:3}.react-flow__nodesselection-rect{cursor:-webkit-grab;cursor:grab;pointer-events:all;position:absolute}.react-flow__handle{pointer-events:none;position:absolute}.react-flow__handle.connectable{pointer-events:all}.react-flow__handle-bottom{bottom:-4px;left:50%;top:auto;transform:translate(-50%)}.react-flow__handle-top{left:50%;top:-4px;transform:translate(-50%)}.react-flow__handle-left{left:-4px;top:50%;transform:translateY(-50%)}.react-flow__handle-right{right:-4px;top:50%;transform:translateY(-50%)}.react-flow__edgeupdater{cursor:move;pointer-events:all}.react-flow__controls{bottom:20px;left:15px;position:absolute;z-index:5}.react-flow__controls-button{border:none;height:24px;width:24px}.react-flow__controls-button svg{width:100%}.react-flow__minimap{bottom:20px;position:absolute;right:15px;z-index:5}.react-flow__attribution{background:hsla(0,0%,100%,.5);color:#999;font-size:10px;padding:2px 3px;position:absolute;z-index:1000}.react-flow__attribution a{color:#555;text-decoration:none}.react-flow__attribution.top{top:0}.react-flow__attribution.bottom{bottom:0}.react-flow__attribution.left{left:0}.react-flow__attribution.right{right:0}.react-flow__attribution.center{left:50%;transform:translateX(-50%)}",vf=gf,pf=".react-flow__edge.selected .react-flow__edge-path{stroke:#555}.react-flow__edge.animated path{stroke-dasharray:5;-webkit-animation:dashdraw .5s linear infinite;animation:dashdraw .5s linear infinite}.react-flow__edge.updating .react-flow__edge-path{stroke:#777}.react-flow__edge-path{stroke:#b1b1b7;stroke-width:1}.react-flow__edge-text{font-size:10px}.react-flow__edge-textbg{fill:#fff}.react-flow__connection-path{stroke:#b1b1b7;stroke-width:1}.react-flow__node{cursor:-webkit-grab;cursor:grab}.react-flow__node-default,.react-flow__node-group,.react-flow__node-input,.react-flow__node-output{background:#fff;border:1px solid #1a192b;border-radius:3px;color:#222;font-size:12px;padding:10px;text-align:center;width:150px}.react-flow__node-default.selected,.react-flow__node-group.selected,.react-flow__node-input.selected,.react-flow__node-output.selected{box-shadow:0 0 0 .5px #1a192b}.react-flow__node-default .react-flow__handle,.react-flow__node-group .react-flow__handle,.react-flow__node-input .react-flow__handle,.react-flow__node-output .react-flow__handle{background:#1a192b}.react-flow__node-default.selectable:hover,.react-flow__node-group.selectable:hover,.react-flow__node-input.selectable:hover,.react-flow__node-output.selectable:hover{box-shadow:0 1px 4px 1px rgba(0,0,0,.08)}.react-flow__node-default.selectable.selected,.react-flow__node-group.selectable.selected,.react-flow__node-input.selectable.selected,.react-flow__node-output.selectable.selected{box-shadow:0 0 0 .5px #1a192b}.react-flow__node-group{background:hsla(0,0%,94%,.25);border-color:#1a192b}.react-flow__nodesselection-rect,.react-flow__selection{background:rgba(0,89,220,.08);border:1px dotted rgba(0,89,220,.8)}.react-flow__handle{background:#555;border:1px solid #fff;border-radius:100%;height:6px;width:6px}.react-flow__handle.connectable{cursor:crosshair}.react-flow__minimap{background-color:#fff}.react-flow__controls{box-shadow:0 0 2px 1px rgba(0,0,0,.08)}.react-flow__controls-button{align-items:center;background:#fefefe;border-bottom:1px solid #eee;box-sizing:content-box;cursor:pointer;display:flex;height:16px;justify-content:center;padding:5px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:16px}.react-flow__controls-button svg{max-height:12px;max-width:12px}.react-flow__controls-button:hover{background:#f4f4f4}",mf=pf,yf=function(t,n,o){return o===R.Left?t-n:o===R.Right?t+n:t},wf=function(t,n,o){return o===R.Top?t-n:o===R.Bottom?t+n:t},ji=function(t){var n=t.className,o=t.position,r=t.centerX,i=t.centerY,a=t.radius,s=a===void 0?10:a;return N("circle",{className:he(["react-flow__edgeupdater",n]),cx:yf(r,s,o),cy:wf(i,s,o),r:s,stroke:"transparent",fill:"transparent"})},Ct=function(e){var t=function(o){var r=o.id,i=o.className,a=o.type,s=o.data,l=o.onClick,u=o.onEdgeDoubleClick,c=o.selected,d=o.animated,f=o.label,h=o.labelStyle,g=o.labelShowBg,b=o.labelBgStyle,w=o.labelBgPadding,m=o.labelBgBorderRadius,O=o.style,E=o.source,v=o.target,y=o.sourceX,C=o.sourceY,P=o.targetX,x=o.targetY,D=o.sourcePosition,B=o.targetPosition,T=o.elementsSelectable,H=o.hidden,Y=o.sourceHandleId,p=o.targetHandleId,_=o.onContextMenu,S=o.onMouseEnter,M=o.onMouseMove,$=o.onMouseLeave,k=o.edgeUpdaterRadius,A=o.onEdgeUpdate,I=o.onEdgeUpdateStart,j=o.onEdgeUpdateEnd,L=o.markerEnd,V=o.markerStart,U=o.rfId,Z=Lt(!1),z=K(Z,2),F=z[0],G=z[1],X=se(),ie=function(me){var ye=X.getState(),nt=ye.edges,ot=ye.addSelectedEdges,ze=nt.find(function(rt){return rt.id===r});T&&(X.setState({nodesSelectionActive:!1}),ot([r])),l==null||l(me,ze)},fe=Xt(r,X.getState,u),Ne=Xt(r,X.getState,_),Ae=Xt(r,X.getState,S),xt=Xt(r,X.getState,M),Je=Xt(r,X.getState,$),He=function(me,ye){var nt=ye?v:E,ot=(ye?p:Y)||null,ze=ye?"target":"source",rt=function(){return!0},$n=ye,it=X.getState().edges.find(function(Te){return Te.id===r});I==null||I(me,it,ze);var An=j?function(Te){return j(Te,it,ze)}:void 0,Zt=function(Kt){return A==null?void 0:A(it,Kt)};ki({event:me,handleId:ot,nodeId:nt,onConnect:Zt,isTarget:$n,getState:X.getState,setState:X.setState,isValidConnection:rt,elementEdgeUpdaterType:ze,onEdgeUpdateEnd:An})},et=function(me){return He(me,!0)},Xe=function(me){return He(me,!1)},Ye=function(){return G(!0)},tt=function(){return G(!1)},Vt=St(function(){return"url(#".concat(to(V,U),")")},[V,U]),Dn=St(function(){return"url(#".concat(to(L,U),")")},[L,U]);if(H)return null;var Ft=!T&&!l,Ut=typeof A!="undefined",kn=he(["react-flow__edge","react-flow__edge-".concat(a),i,{selected:c,animated:d,inactive:Ft,updating:F}]);return Q("g",{className:kn,onClick:ie,onDoubleClick:fe,onContextMenu:Ne,onMouseEnter:Ae,onMouseMove:xt,onMouseLeave:Je,children:[N(e,{id:r,source:E,target:v,selected:c,animated:d,label:f,labelStyle:h,labelShowBg:g,labelBgStyle:b,labelBgPadding:w,labelBgBorderRadius:m,data:s,style:O,sourceX:y,sourceY:C,targetX:P,targetY:x,sourcePosition:D,targetPosition:B,sourceHandleId:Y,targetHandleId:p,markerStart:Vt,markerEnd:Dn,"data-testid":"rf__edge-".concat(r)}),Ut&&N("g",{onMouseDown:et,onMouseEnter:Ye,onMouseOut:tt,children:N(ji,{position:D,centerX:y,centerY:C,radius:k})}),Ut&&N("g",{onMouseDown:Xe,onMouseEnter:Ye,onMouseOut:tt,children:N(ji,{position:B,centerX:P,centerY:x,radius:k})})]})};return t.displayName="EdgeWrapper",ee(t)};function Li(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,o)}return n}function Hi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Li(Object(n),!0).forEach(function(o){W(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Li(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function bf(e){var t={default:Ct(e.default||yo),straight:Ct(e.bezier||Mi),step:Ct(e.step||_i),smoothstep:Ct(e.step||mo),simplebezier:Ct(e.simplebezier||Ei)},n={},o=Object.keys(e).filter(function(r){return!["default","bezier"].includes(r)}).reduce(function(r,i){return r[i]=Ct(e[i]||yo),r},n);return Hi(Hi({},t),o)}function Xi(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,o=((n==null?void 0:n.x)||0)+t.x,r=((n==null?void 0:n.y)||0)+t.y,i=(n==null?void 0:n.width)||t.width,a=(n==null?void 0:n.height)||t.height;switch(e){case R.Top:return{x:o+i/2,y:r};case R.Right:return{x:o+i,y:r+a/2};case R.Bottom:return{x:o+i/2,y:r+a};case R.Left:return{x:o,y:r+a/2}}}function Yi(e,t){if(!e)return null;var n=null;return e.length===1||!t?n=e[0]:t&&(n=e.find(function(o){return o.id===t})),typeof n=="undefined"?null:n}var Sf=function(t,n,o,r,i,a){var s=Xi(o,t,n),l=Xi(a,r,i);return{sourceX:s.x,sourceY:s.y,targetX:l.x,targetY:l.y}};function Ef(e){var t=e.sourcePos,n=e.targetPos,o=e.sourceWidth,r=e.sourceHeight,i=e.targetWidth,a=e.targetHeight,s=e.width,l=e.height,u=e.transform,c={x:Math.min(t.x,n.x),y:Math.min(t.y,n.y),x2:Math.max(t.x+o,n.x+i),y2:Math.max(t.y+r,n.y+a)};c.x===c.x2&&(c.x2+=1),c.y===c.y2&&(c.y2+=1);var d=mt({x:(0-u[0])/u[2],y:(0-u[1])/u[2],width:s/u[2],height:l/u[2]}),f=Math.max(0,Math.min(d.x2,c.x2)-Math.max(d.x,c.x)),h=Math.max(0,Math.min(d.y2,c.y2)-Math.max(d.y,c.y)),g=Math.ceil(f*h);return g>0}function Vi(e,t){var n,o,r,i,a,s=e.get(t),l=(s==null||(n=s[re])===null||n===void 0?void 0:n.handleBounds)||null,u=!s||!l||!s.width||!s.height||typeof((o=s.positionAbsolute)===null||o===void 0?void 0:o.x)=="undefined"||typeof((r=s.positionAbsolute)===null||r===void 0?void 0:r.y)=="undefined";return[{x:(s==null||(i=s.positionAbsolute)===null||i===void 0?void 0:i.x)||0,y:(s==null||(a=s.positionAbsolute)===null||a===void 0?void 0:a.y)||0,width:(s==null?void 0:s.width)||0,height:(s==null?void 0:s.height)||0},l,!u]}var Cf=typeof document!="undefined"?document:null,Nn=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{target:Cf},n=Lt(!1),o=K(n,2),r=o[0],i=o[1],a=oe(new Set([])),s=St(function(){if(e!==null){var d=Array.isArray(e)?e:[e],f=d.filter(function(g){return typeof g=="string"}).map(function(g){return g.split("+")}),h=f.reduce(function(g,b){return g.concat.apply(g,Qe(b))},[]);return[f,h]}return[[],[]]},[e]),l=K(s,2),u=l[0],c=l[1];return te(function(){if(e!==null){var d,f,h=function(m){if(Zi(m))return!1;var O=Ui(m.code,c);a.current.add(m[O]),Fi(u,a.current,!1)&&(m.preventDefault(),i(!0))},g=function(m){if(Zi(m))return!1;var O=Ui(m.code,c);Fi(u,a.current,!0)?(i(!1),a.current.clear()):a.current.delete(m[O])},b=function(){a.current.clear(),i(!1)};return t==null||(d=t.target)===null||d===void 0||d.addEventListener("keydown",h),t==null||(f=t.target)===null||f===void 0||f.addEventListener("keyup",g),window.addEventListener("blur",b),function(){var w,m;t==null||(w=t.target)===null||w===void 0||w.removeEventListener("keydown",h),t==null||(m=t.target)===null||m===void 0||m.removeEventListener("keyup",g),window.removeEventListener("blur",b)}}},[e,i]),r};function Fi(e,t,n){return e.filter(function(o){return n||o.length===t.size}).some(function(o){return o.every(function(r){return t.has(r)})})}function Ui(e,t){return t.includes(e)?"code":"key"}function Zi(e){var t,n=((t=e.composedPath)===null||t===void 0?void 0:t.call(e)[0])||e.target;return["INPUT","SELECT","TEXTAREA"].includes(n==null?void 0:n.nodeName)||(n==null?void 0:n.hasAttribute("contenteditable"))}var Of=function(t){return{onNodesChange:t.onNodesChange,onEdgesChange:t.onEdgesChange}},xf=function(e){var t=e.deleteKeyCode,n=e.multiSelectionKeyCode,o=se(),r=ne(Of,le),i=r.onNodesChange,a=r.onEdgesChange,s=Nn(t),l=Nn(n);te(function(){var u=o.getState(),c=u.nodeInternals,d=u.edges,f=u.hasDefaultNodes,h=u.hasDefaultEdges,g=u.onNodesDelete,b=u.onEdgesDelete,w=Array.from(c.values()),m=w.reduce(function(x,D){return(!D.selected&&D.parentNode&&x.find(function(B){return B.id===D.parentNode})||D.selected)&&x.push(D),x},[]),O=d.filter(function(x){return x.selected});if(s&&(m||O)){var E=ai(m,d),v=[].concat(Qe(O),Qe(E)),y=v.reduce(function(x,D){return x.includes(D.id)||x.push(D.id),x},[]);if((h||f)&&(h&&o.setState({edges:d.filter(function(x){return!y.includes(x.id)})}),f&&(m.forEach(function(x){c.delete(x.id)}),o.setState({nodeInternals:new Map(c)}))),y.length>0&&(b==null||b(v),a)){var C=y.map(function(x){return{id:x,type:"remove"}});a(C)}if(m.length>0&&(g==null||g(m),i)){var P=m.map(function(x){return{id:x.id,type:"remove"}});i(P)}o.setState({nodesSelectionActive:!1})}},[s,i,a]),te(function(){o.setState({multiSelectionActive:l})},[l])};function Nf(e){var t=se();te(function(){var n,o=function(){if(!!e.current){var i=eo(e.current);t.setState({width:i.width||500,height:i.height||500})}};return o(),window.onresize=o,e.current&&(n=new ResizeObserver(function(){return o()}),n.observe(e.current)),function(){window.onresize=null,n&&e.current&&n.unobserve(e.current)}},[])}var Pf=function(t,n){return t.x!==n.x||t.y!==n.y||t.zoom!==n.k},Oo=function(t){return{x:t.x,y:t.y,zoom:t.k}},Pn=function(t,n){return t.target.closest(".".concat(n))},_f=function(t){return{d3Zoom:t.d3Zoom,d3Selection:t.d3Selection,d3ZoomHandler:t.d3ZoomHandler}},Mf=function(t){var n=t.onMove,o=t.onMoveStart,r=t.onMoveEnd,i=t.zoomOnScroll,a=i===void 0?!0:i,s=t.zoomOnPinch,l=s===void 0?!0:s,u=t.panOnScroll,c=u===void 0?!1:u,d=t.panOnScrollSpeed,f=d===void 0?.5:d,h=t.panOnScrollMode,g=h===void 0?vt.Free:h,b=t.zoomOnDoubleClick,w=b===void 0?!0:b,m=t.selectionKeyPressed,O=t.elementsSelectable,E=t.panOnDrag,v=E===void 0?!0:E,y=t.translateExtent,C=t.minZoom,P=t.maxZoom,x=t.defaultZoom,D=x===void 0?1:x,B=t.defaultPosition,T=B===void 0?[0,0]:B,H=t.zoomActivationKeyCode,Y=t.preventScrolling,p=Y===void 0?!0:Y,_=t.children,S=t.noWheelClassName,M=t.noPanClassName,$=se(),k=oe(!1),A=oe(null),I=oe({x:0,y:0,zoom:0}),j=ne(_f,le),L=j.d3Zoom,V=j.d3Selection,U=j.d3ZoomHandler,Z=Nn(H);return Nf(A),te(function(){if(A.current){var z,F=yd().scaleExtent([C,P]).translateExtent(y),G=ge(A.current).call(F),X=pt(T[0],y[0][0],y[1][0]),ie=pt(T[1],y[0][1],y[1][1]),fe=pt(D,C,P),Ne=Ge.translate(X,ie).scale(fe);F.transform(G,Ne),$.setState({d3Zoom:F,d3Selection:G,d3ZoomHandler:G.on("wheel.zoom"),transform:[X,ie,fe],domNode:(z=G.node())===null||z===void 0?void 0:z.closest(".react-flow")})}},[]),te(function(){V&&L&&(c&&!Z?V.on("wheel",function(z){if(Pn(z,S))return!1;z.preventDefault(),z.stopImmediatePropagation();var F=V.property("__zoom").k||1;if(z.ctrlKey&&l){var G=be(z),X=-z.deltaY*(z.deltaMode===1?.05:z.deltaMode?1:.002)*10,ie=F*Math.pow(2,X);L.scaleTo(V,ie,G);return}var fe=z.deltaMode===1?20:1,Ne=g===vt.Vertical?0:z.deltaX*fe,Ae=g===vt.Horizontal?0:z.deltaY*fe;L.translateBy(V,-(Ne/F)*f,-(Ae/F)*f)}).on("wheel.zoom",null):typeof U!="undefined"&&V.on("wheel",function(z){if(!p||Pn(z,S))return null;z.preventDefault()}).on("wheel.zoom",U))},[c,g,V,L,U,Z,l,p,S]),te(function(){L&&(m&&!k.current?L.on("zoom",null):m||L.on("zoom",function(z){if($.setState({transform:[z.transform.x,z.transform.y,z.transform.k]}),n){var F=Oo(z.transform);n(z.sourceEvent,F)}}))},[m,L,n]),te(function(){L&&L.on("start",function(z){if(k.current=!0,o){var F=Oo(z.transform);I.current=F,o(z.sourceEvent,F)}})},[L,o]),te(function(){L&&L.on("end",function(z){if(k.current=!1,r&&Pf(I.current,z.transform)){var F=Oo(z.transform);I.current=F,r(z.sourceEvent,F)}})},[L,r]),te(function(){L&&L.filter(function(z){var F=Z||a,G=l&&z.ctrlKey;return!v&&!F&&!c&&!w&&!l||m||!w&&z.type==="dblclick"||Pn(z,S)&&z.type==="wheel"||Pn(z,M)&&z.type!=="wheel"||!l&&z.ctrlKey&&z.type==="wheel"||!F&&!c&&!G&&z.type==="wheel"||!v&&(z.type==="mousedown"||z.type==="touchstart")?!1:(!z.ctrlKey||z.type==="wheel")&&!z.button})},[L,a,l,c,w,v,m,O,Z]),N("div",{className:"react-flow__renderer react-flow__container",ref:A,children:_})};function Ki(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,o)}return n}function Wi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ki(Object(n),!0).forEach(function(o){W(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ki(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function Gi(e,t){return{x:e.clientX-t.left,y:e.clientY-t.top}}var Df=function(t){return{userSelectionActive:t.userSelectionActive,elementsSelectable:t.elementsSelectable}},qi={startX:0,startY:0,x:0,y:0,width:0,height:0,draw:!1},kf=ee(function(e){var t=e.selectionKeyPressed,n=se(),o=oe(0),r=oe(0),i=oe(),a=Lt(qi),s=K(a,2),l=s[0],u=s[1],c=ne(Df,le),d=c.userSelectionActive,f=c.elementsSelectable,h=d||t;if(!f||!h)return null;var g=function(){u(qi),n.setState({userSelectionActive:!1}),o.current=0,r.current=0},b=function(v){var y=v.target.closest(".react-flow");i.current=y.getBoundingClientRect();var C=Gi(v,i.current);u({width:0,height:0,startX:C.x,startY:C.y,x:C.x,y:C.y,draw:!0}),n.setState({userSelectionActive:!0,nodesSelectionActive:!1})},w=function(v){var y,C;if(!(!t||!l.draw||!i.current)){var P=Gi(v,i.current),x=(y=l.startX)!==null&&y!==void 0?y:0,D=(C=l.startY)!==null&&C!==void 0?C:0,B=Wi(Wi({},l),{},{x:P.x<x?P.x:x,y:P.y<D?P.y:D,width:Math.abs(P.x-x),height:Math.abs(P.y-D)}),T=n.getState(),H=T.nodeInternals,Y=T.edges,p=T.transform,_=T.onNodesChange,S=T.onEdgesChange,M=Array.from(H.values()),$=ii(H,B,p,!1,!0),k=ai($,Y).map(function(L){return L.id}),A=$.map(function(L){return L.id});if(o.current!==A.length){o.current=A.length;var I=yt(M,A);I.length&&(_==null||_(I))}if(r.current!==k.length){r.current=k.length;var j=yt(Y,k);j.length&&(S==null||S(j))}u(B)}},m=function(){n.setState({nodesSelectionActive:o.current>0}),g()},O=function(){n.setState({nodesSelectionActive:!1}),g()};return N("div",{className:"react-flow__selectionpane react-flow__container",onMouseDown:b,onMouseMove:w,onMouseUp:m,onMouseLeave:O,children:l.draw&&N("div",{className:"react-flow__selection react-flow__container",style:{width:l.width,height:l.height,transform:"translate(".concat(l.x,"px, ").concat(l.y,"px)")}})})});function Qi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,o)}return n}function Ji(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Qi(Object(n),!0).forEach(function(o){W(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qi(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function ea(e,t){if(!e.parentNode)return!1;var n=t.get(e.parentNode);return n?n.selected?!0:ea(n,t):!1}function ta(e,t,n){var o=e;do{var r;if((r=o)!==null&&r!==void 0&&r.matches(t))return!0;if(o===n.current)return!1;o=o.parentElement}while(o);return!1}function $f(e,t,n){return Array.from(e.values()).filter(function(o){return(o.selected||o.id===n)&&(!o.parentNode||!ea(o,e))}).map(function(o){var r,i,a,s;return{id:o.id,position:o.position||{x:0,y:0},positionAbsolute:o.positionAbsolute||{x:0,y:0},distance:{x:t.x-((r=(i=o.positionAbsolute)===null||i===void 0?void 0:i.x)!==null&&r!==void 0?r:0),y:t.y-((a=(s=o.positionAbsolute)===null||s===void 0?void 0:s.y)!==null&&a!==void 0?a:0)},delta:{x:0,y:0},extent:o.extent,parentNode:o.parentNode,width:o.width,height:o.height}})}function Af(e,t,n,o,r,i){var a=K(o,2),s=a[0],l=a[1],u=e.extent||i,c={x:t.x-e.distance.x,y:t.y-e.distance.y};if(n&&(c.x=s*Math.round(c.x/s),c.y=l*Math.round(c.y/l)),e.extent==="parent")if(e.parentNode&&e.width&&e.height){var d=r.get(e.parentNode);u=d!=null&&d.positionAbsolute&&d!==null&&d!==void 0&&d.width&&d!==null&&d!==void 0&&d.height?[[d.positionAbsolute.x,d.positionAbsolute.y],[d.positionAbsolute.x+d.width-e.width,d.positionAbsolute.y+d.height-e.height]]:u}else u=i;else if(e.extent&&e.parentNode){var f,h,g,b,w=r.get(e.parentNode),m=(f=w==null||(h=w.positionAbsolute)===null||h===void 0?void 0:h.x)!==null&&f!==void 0?f:0,O=(g=w==null||(b=w.positionAbsolute)===null||b===void 0?void 0:b.y)!==null&&g!==void 0?g:0;u=[[e.extent[0][0]+m,e.extent[0][1]+O],[e.extent[1][0]+m,e.extent[1][1]+O]]}var E={x:0,y:0};if(e.parentNode){var v,y,C,P,x=r.get(e.parentNode);E={x:(v=x==null||(y=x.positionAbsolute)===null||y===void 0?void 0:y.x)!==null&&v!==void 0?v:0,y:(C=x==null||(P=x.positionAbsolute)===null||P===void 0?void 0:P.y)!==null&&C!==void 0?C:0}}return e.positionAbsolute=u?Ur(c,u):c,e.position={x:e.positionAbsolute.x-E.x,y:e.positionAbsolute.y-E.y},e}function xo(e){var t=e.nodeId,n=e.dragItems,o=e.nodeInternals,r=n.map(function(i){var a=o.get(i.id);return Ji(Ji({},a),{},{position:i.position,positionAbsolute:i.positionAbsolute})});return[t?r.find(function(i){return i.id===t}):r[0],r]}function No(e){return function(t,n,o){return e==null?void 0:e(t,o)}}function na(e){var t=e.nodeRef,n=e.disabled,o=n===void 0?!1:n,r=e.noDragClassName,i=e.handleSelector,a=e.nodeId,s=e.isSelectable,l=e.selectNodesOnDrag,u=Lt(!1),c=K(u,2),d=c[0],f=c[1],h=se(),g=oe(),b=oe({x:null,y:null}),w=Ht(function(m){var O=m.sourceEvent,E=h.getState(),v=E.transform,y=E.snapGrid,C=E.snapToGrid,P=O.touches?O.touches[0].clientX:O.clientX,x=O.touches?O.touches[0].clientY:O.clientY,D=ri({x:P,y:x},v,C,y);return D},[]);return te(function(){if(t!=null&&t.current){var m=ge(t.current);if(o)m.on(".drag",null);else{var O=_c().on("start",function(E){var v=h.getState(),y=v.nodeInternals,C=v.multiSelectionActive,P=v.unselectNodesAndEdges,x=v.onNodeDragStart,D=v.onSelectionDragStart,B=a?x:No(D);if(!l&&!C&&a){var T;(T=y.get(a))!==null&&T!==void 0&&T.selected||P()}a&&s&&l&&ni({id:a,store:h});var H=w(E);if(b.current=H,g.current=$f(y,H,a),B&&g.current){var Y=xo({nodeId:a,dragItems:g.current,nodeInternals:y}),p=K(Y,2),_=p[0],S=p[1];B(E.sourceEvent,_,S)}}).on("drag",function(E){var v=h.getState(),y=v.updateNodePositions,C=v.snapToGrid,P=v.snapGrid,x=v.nodeInternals,D=v.nodeExtent,B=v.onNodeDrag,T=v.onSelectionDrag,H=w(E);if((b.current.x!==H.x||b.current.y!==H.y)&&g.current){b.current=H,g.current=g.current.map(function($){return Af($,H,C,P,x,D)});var Y=a?B:No(T);if(y(g.current,!0,!0),f(!0),Y){var p=xo({nodeId:a,dragItems:g.current,nodeInternals:x}),_=K(p,2),S=_[0],M=_[1];Y(E.sourceEvent,S,M)}}E.on("end",function($){if(f(!1),g.current){var k=h.getState(),A=k.updateNodePositions,I=k.nodeInternals,j=k.onNodeDragStop,L=k.onSelectionDragStop,V=a?j:No(L);if(A(g.current,!1,!1),V){var U=xo({nodeId:a,dragItems:g.current,nodeInternals:I}),Z=K(U,2),z=Z[0],F=Z[1];V($.sourceEvent,z,F)}}})}).filter(function(E){var v=E.target,y=!E.button&&(!r||!ta(v,".".concat(r),t))&&(!i||ta(v,i,t));return y});return m.call(O),function(){m.on(".drag",null)}}}},[t,o,r,i,s,h,a,l,w]),d}function oa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,o)}return n}function zf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?oa(Object(n),!0).forEach(function(o){W(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oa(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}var Tf=function(t){return zf({transformString:"translate(".concat(t.transform[0],"px,").concat(t.transform[1],"px) scale(").concat(t.transform[2],")"),userSelectionActive:t.userSelectionActive},bn(Array.from(t.nodeInternals.values()).filter(function(n){return n.selected})))},Bf=function(t){var n=Array.from(t.nodeInternals.values()).filter(function(o){return o.selected});return bn(n)};function Rf(e){var t=e.onSelectionContextMenu,n=e.noPanClassName,o=se(),r=ne(Tf,le),i=r.transformString,a=r.userSelectionActive,s=ne(Bf,le),l=s.width,u=s.height,c=s.x,d=s.y,f=oe(null);if(na({nodeRef:f}),a||!l||!u)return null;var h=t?function(g){var b=Array.from(o.getState().nodeInternals.values()).filter(function(w){return w.selected});t(g,b)}:void 0;return N("div",{className:he(["react-flow__nodesselection","react-flow__container",n]),style:{transform:i},children:N("div",{ref:f,className:"react-flow__nodesselection-rect",onContextMenu:h,style:{width:l,height:u,top:d,left:c}})})}var If=ee(Rf),jf=function(t){return t.nodesSelectionActive},ra=function(t){var n=t.children,o=t.onPaneClick,r=t.onPaneContextMenu,i=t.onPaneScroll,a=t.deleteKeyCode,s=t.onMove,l=t.onMoveStart,u=t.onMoveEnd,c=t.selectionKeyCode,d=t.multiSelectionKeyCode,f=t.zoomActivationKeyCode,h=t.elementsSelectable,g=t.zoomOnScroll,b=t.zoomOnPinch,w=t.panOnScroll,m=t.panOnScrollSpeed,O=t.panOnScrollMode,E=t.zoomOnDoubleClick,v=t.panOnDrag,y=t.translateExtent,C=t.minZoom,P=t.maxZoom,x=t.defaultZoom,D=t.defaultPosition,B=t.preventScrolling,T=t.onSelectionContextMenu,H=t.noWheelClassName,Y=t.noPanClassName,p=se(),_=ne(jf),S=Nn(c);xf({deleteKeyCode:a,multiSelectionKeyCode:d});var M=function(I){o==null||o(I),p.getState().resetSelectedElements(),p.setState({nodesSelectionActive:!1})},$=r?function(A){return r(A)}:void 0,k=i?function(A){return i(A)}:void 0;return Q(Mf,{onMove:s,onMoveStart:l,onMoveEnd:u,selectionKeyPressed:S,elementsSelectable:h,zoomOnScroll:g,zoomOnPinch:b,panOnScroll:w,panOnScrollSpeed:m,panOnScrollMode:O,zoomOnDoubleClick:E,panOnDrag:v,translateExtent:y,minZoom:C,maxZoom:P,defaultZoom:x,defaultPosition:D,zoomActivationKeyCode:f,preventScrolling:B,noWheelClassName:H,noPanClassName:Y,children:[n,N(kf,{selectionKeyPressed:S}),_&&N(If,{onSelectionContextMenu:T,noPanClassName:Y}),N("div",{className:"react-flow__pane react-flow__container",onClick:M,onContextMenu:$,onWheel:k})]})};ra.displayName="FlowRenderer";var Lf=ee(ra);function Hf(e){var t=ne(Ht(function(n){return e?ii(n.nodeInternals,{x:0,y:0,width:n.width,height:n.height},n.transform,!0):Array.from(n.nodeInternals.values())},[e]));return t}var Xf=function(t){return{nodesDraggable:t.nodesDraggable,nodesConnectable:t.nodesConnectable,elementsSelectable:t.elementsSelectable,updateNodeDimensions:t.updateNodeDimensions}},ia=function(t){var n=ne(Xf,le),o=n.nodesDraggable,r=n.nodesConnectable,i=n.elementsSelectable,a=n.updateNodeDimensions,s=Hf(t.onlyRenderVisibleElements),l=oe(),u=St(function(){if(typeof ResizeObserver=="undefined")return null;var c=new ResizeObserver(function(d){var f=d.map(function(h){return{id:h.target.getAttribute("data-id"),nodeElement:h.target,forceUpdate:!0}});a(f)});return l.current=c,c},[]);return te(function(){return function(){var c;l==null||(c=l.current)===null||c===void 0||c.disconnect()}},[]),N("div",{className:"react-flow__nodes react-flow__container",children:s.map(function(c){var d,f,h,g,b,w,m,O=c.type||"default";t.nodeTypes[O]||(O="default");var E=t.nodeTypes[O]||t.nodeTypes.default,v=!!(c.draggable||o&&typeof c.draggable=="undefined"),y=!!(c.selectable||i&&typeof c.selectable=="undefined"),C=!!(c.connectable||r&&typeof c.connectable=="undefined");return N(E,{id:c.id,className:c.className,style:c.style,type:O,data:c.data,sourcePosition:c.sourcePosition||R.Bottom,targetPosition:c.targetPosition||R.Top,hidden:c.hidden,xPos:(d=(f=c.positionAbsolute)===null||f===void 0?void 0:f.x)!==null&&d!==void 0?d:0,yPos:(h=(g=c.positionAbsolute)===null||g===void 0?void 0:g.y)!==null&&h!==void 0?h:0,selectNodesOnDrag:t.selectNodesOnDrag,onClick:t.onNodeClick,onMouseEnter:t.onNodeMouseEnter,onMouseMove:t.onNodeMouseMove,onMouseLeave:t.onNodeMouseLeave,onContextMenu:t.onNodeContextMenu,onDoubleClick:t.onNodeDoubleClick,selected:!!c.selected,isDraggable:v,isSelectable:y,isConnectable:C,resizeObserver:u,dragHandle:c.dragHandle,zIndex:(b=(w=c[re])===null||w===void 0?void 0:w.z)!==null&&b!==void 0?b:0,isParent:!!((m=c[re])!==null&&m!==void 0&&m.isParent),noDragClassName:t.noDragClassName,noPanClassName:t.noPanClassName,initialized:!!c.width&&!!c.height},c.id)})})};ia.displayName="NodeRenderer";var Yf=ee(ia),Ot;function aa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,o)}return n}function sa(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?aa(Object(n),!0).forEach(function(o){W(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aa(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}var Vf=(Ot={},W(Ot,R.Left,R.Right),W(Ot,R.Right,R.Left),W(Ot,R.Top,R.Bottom),W(Ot,R.Bottom,R.Top),Ot),Ff=function(e){var t,n,o,r,i,a=e.connectionNodeId,s=e.connectionHandleType,l=e.connectionLineStyle,u=e.connectionLineType,c=u===void 0?ke.Bezier:u,d=e.isConnectable,f=e.CustomConnectionLineComponent,h=ne(Ht(function(k){return{fromNode:k.nodeInternals.get(a),handleId:k.connectionHandleId,toX:(k.connectionPosition.x-k.transform[0])/k.transform[2],toY:(k.connectionPosition.y-k.transform[1])/k.transform[2]}},[a]),le),g=h.fromNode,b=h.handleId,w=h.toX,m=h.toY,O=g==null||(t=g[re])===null||t===void 0?void 0:t.handleBounds;if(!g||!d||!(O!=null&&O[s]))return null;var E=O[s],v=b?E.find(function(k){return k.id===b}):E[0],y=v?v.x+v.width/2:((n=g==null?void 0:g.width)!==null&&n!==void 0?n:0)/2,C=v?v.y+v.height/2:(o=g==null?void 0:g.height)!==null&&o!==void 0?o:0,P=((g==null||(r=g.positionAbsolute)===null||r===void 0?void 0:r.x)||0)+y,x=((g==null||(i=g.positionAbsolute)===null||i===void 0?void 0:i.y)||0)+C,D=v==null?void 0:v.position;if(!D)return null;var B=Vf[D],T,H,Y,p,_,S;switch(s){case"source":T=P,H=x,Y=D,p=w,_=m,S=B;break;case"target":T=w,H=m,Y=B,p=P,_=x,S=D;break}if(f)return N("g",{className:"react-flow__connection",children:N(f,{connectionLineType:c,connectionLineStyle:l,fromNode:g,fromHandle:v,fromX:P,fromY:x,toX:w,toY:m,fromPosition:D,toPosition:B,sourcePosition:Y,targetPosition:S,sourceNode:g,sourceHandle:v,targetX:p,targetY:_,sourceX:T,sourceY:H})});var M="",$={sourceX:T,sourceY:H,sourcePosition:Y,targetX:p,targetY:_,targetPosition:S};return c===ke.Bezier?M=Di($):c===ke.Step?M=po(sa(sa({},$),{},{borderRadius:0})):c===ke.SmoothStep?M=po($):c===ke.SimpleBezier?M=Si($):M="M".concat(T,",").concat(H," ").concat(p,",").concat(_),N("g",{className:"react-flow__connection",children:N("path",{d:M,className:"react-flow__connection-path",style:l})})};function Po(e){return Po=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Po(e)}var _n,Uf=function(t){var n=t.color,o=n===void 0?"none":n,r=t.strokeWidth,i=r===void 0?1:r;return N("polyline",{stroke:o,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:i,fill:"none",points:"-5,-4 0,0 -5,4"})},Zf=function(t){var n=t.color,o=n===void 0?"none":n,r=t.strokeWidth,i=r===void 0?1:r;return N("polyline",{stroke:o,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:i,fill:o,points:"-5,-4 0,0 -5,4 -5,-4"})},la=(_n={},W(_n,wn.Arrow,Uf),W(_n,wn.ArrowClosed,Zf),_n);function Kf(e){var t=St(function(){var n=la.hasOwnProperty(e);return n?la[e]:function(){return null}},[e]);return t}function ca(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,o)}return n}function Wf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ca(Object(n),!0).forEach(function(o){W(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ca(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}var Gf=function(t){var n=t.id,o=t.type,r=t.color,i=t.width,a=i===void 0?12.5:i,s=t.height,l=s===void 0?12.5:s,u=t.markerUnits,c=u===void 0?"strokeWidth":u,d=t.strokeWidth,f=t.orient,h=f===void 0?"auto":f,g=Kf(o);return yi.createElement("marker",{className:"react-flow__arrowhead",id:n,markerWidth:"".concat(a),markerHeight:"".concat(l),viewBox:"-10 -10 20 20",markerUnits:c,orient:h,refX:"0",refY:"0"},yi.createElement(g,{color:r,strokeWidth:d}))},qf=function(t){var n=t.defaultColor,o=t.rfId;return function(r){var i=[];return r.edges.reduce(function(a,s){return[s.markerStart,s.markerEnd].forEach(function(l){if(l&&Po(l)==="object"){var u=to(l,o);i.includes(u)||(a.push(Wf({id:u,color:l.color||n},l)),i.push(u))}}),a},[]).sort(function(a,s){return a.id.localeCompare(s.id)})}},ua=function(t){var n=t.defaultColor,o=t.rfId,r=ne(Ht(qf({defaultColor:n,rfId:o}),[n,o]),function(i,a){return!(i.length!==a.length||i.some(function(s,l){return s.id!==a[l].id}))});return N("defs",{children:r.map(function(i){return N(Gf,{id:i.id,type:i.type,color:i.color,width:i.width,height:i.height,markerUnits:i.markerUnits,strokeWidth:i.strokeWidth,orient:i.orient},i.id)})})};ua.displayName="MarkerDefinitions";var Qf=ee(ua),Jf=[{level:0,isMaxLevel:!0,edges:[]}];function eh(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,o=-1,r=e.reduce(function(a,s){var l=Gr(s.zIndex),u=l?s.zIndex:0;if(n){var c,d,f,h;u=l?s.zIndex:Math.max(((c=t.get(s.source))===null||c===void 0||(d=c[re])===null||d===void 0?void 0:d.z)||0,((f=t.get(s.target))===null||f===void 0||(h=f[re])===null||h===void 0?void 0:h.z)||0)}return a[u]?a[u].push(s):a[u]=[s],o=u>o?u:o,a},{}),i=Object.entries(r).map(function(a){var s=K(a,2),l=s[0],u=s[1],c=+l;return{edges:u,level:c,isMaxLevel:c===o}});return i.length===0?Jf:i}function th(e,t,n){var o=ne(Ht(function(r){return e?r.edges.filter(function(i){var a=t.get(i.source),s=t.get(i.target);return(a==null?void 0:a.width)&&(a==null?void 0:a.height)&&(s==null?void 0:s.width)&&(s==null?void 0:s.height)&&Ef({sourcePos:a.positionAbsolute||{x:0,y:0},targetPos:s.positionAbsolute||{x:0,y:0},sourceWidth:a.width,sourceHeight:a.height,targetWidth:s.width,targetHeight:s.height,width:r.width,height:r.height,transform:r.transform})}):r.edges},[e,t]));return eh(o,t,n)}var nh=function(t){return{connectionNodeId:t.connectionNodeId,connectionHandleType:t.connectionHandleType,nodesConnectable:t.nodesConnectable,elementsSelectable:t.elementsSelectable,width:t.width,height:t.height,connectionMode:t.connectionMode,nodeInternals:t.nodeInternals}},da=function(t){var n=ne(nh,le),o=n.connectionNodeId,r=n.connectionHandleType,i=n.nodesConnectable,a=n.elementsSelectable,s=n.width,l=n.height,u=n.connectionMode,c=n.nodeInternals,d=th(t.onlyRenderVisibleElements,c,t.elevateEdgesOnSelect);if(!s)return null;var f=t.connectionLineType,h=t.defaultMarkerColor,g=t.connectionLineStyle,b=t.connectionLineComponent,w=t.connectionLineContainerStyle,m=o&&r;return Q(st,{children:[d.map(function(O){var E=O.level,v=O.edges,y=O.isMaxLevel;return Q("svg",{style:{zIndex:E},width:s,height:l,className:"react-flow__edges react-flow__container",children:[y&&N(Qf,{defaultColor:h,rfId:t.rfId}),N("g",{children:v.map(function(C){var P=Vi(c,C.source),x=K(P,3),D=x[0],B=x[1],T=x[2],H=Vi(c,C.target),Y=K(H,3),p=Y[0],_=Y[1],S=Y[2];if(!T||!S)return null;var M=C.type||"default";t.edgeTypes[M]||(console.warn('[React Flow]: Edge type "'.concat(M,'" not found. Using fallback type "default". Help: https://reactflow.dev/error#300')),M="default");var $=t.edgeTypes[M]||t.edgeTypes.default,k=u===gt.Strict?_.target:_.target||_.source,A=Yi(B.source,C.sourceHandle||null),I=Yi(k,C.targetHandle||null),j=(A==null?void 0:A.position)||R.Bottom,L=(I==null?void 0:I.position)||R.Top;if(!A||!I)return null;var V=Sf(D,A,j,p,I,L),U=V.sourceX,Z=V.sourceY,z=V.targetX,F=V.targetY;return N($,{id:C.id,className:he([C.className,t.noPanClassName]),type:M,data:C.data,selected:!!C.selected,animated:!!C.animated,hidden:!!C.hidden,label:C.label,labelStyle:C.labelStyle,labelShowBg:C.labelShowBg,labelBgStyle:C.labelBgStyle,labelBgPadding:C.labelBgPadding,labelBgBorderRadius:C.labelBgBorderRadius,style:C.style,source:C.source,target:C.target,sourceHandleId:C.sourceHandle,targetHandleId:C.targetHandle,markerEnd:C.markerEnd,markerStart:C.markerStart,sourceX:U,sourceY:Z,targetX:z,targetY:F,sourcePosition:j,targetPosition:L,elementsSelectable:a,onEdgeUpdate:t.onEdgeUpdate,onContextMenu:t.onEdgeContextMenu,onMouseEnter:t.onEdgeMouseEnter,onMouseMove:t.onEdgeMouseMove,onMouseLeave:t.onEdgeMouseLeave,onClick:t.onEdgeClick,edgeUpdaterRadius:t.edgeUpdaterRadius,onEdgeDoubleClick:t.onEdgeDoubleClick,onEdgeUpdateStart:t.onEdgeUpdateStart,onEdgeUpdateEnd:t.onEdgeUpdateEnd,rfId:t.rfId},C.id)})})]},E)}),m&&N("svg",{style:w,width:s,height:l,className:"react-flow__edges react-flow__connectionline react-flow__container",children:N(Ff,{connectionNodeId:o,connectionHandleType:r,connectionLineStyle:g,connectionLineType:f,isConnectable:i,CustomConnectionLineComponent:b})})]})};da.displayName="EdgeRenderer";var oh=ee(da),rh=function(t){return"translate(".concat(t.transform[0],"px,").concat(t.transform[1],"px) scale(").concat(t.transform[2],")")};function ih(e){var t=e.children,n=ne(rh);return N("div",{className:"react-flow__viewport react-flow__container",style:{transform:n},children:t})}function ah(e){var t=jd(),n=oe(!1);te(function(){!n.current&&t.viewportInitialized&&e&&(setTimeout(function(){return e(t)},1),n.current=!0)},[e,t.viewportInitialized])}var fa=function(t){var n=t.nodeTypes,o=t.edgeTypes,r=t.onMove,i=t.onMoveStart,a=t.onMoveEnd,s=t.onInit,l=t.onNodeClick,u=t.onEdgeClick,c=t.onNodeDoubleClick,d=t.onEdgeDoubleClick,f=t.onNodeMouseEnter,h=t.onNodeMouseMove,g=t.onNodeMouseLeave,b=t.onNodeContextMenu,w=t.onSelectionContextMenu,m=t.connectionLineType,O=t.connectionLineStyle,E=t.connectionLineComponent,v=t.connectionLineContainerStyle,y=t.selectionKeyCode,C=t.multiSelectionKeyCode,P=t.zoomActivationKeyCode,x=t.deleteKeyCode,D=t.onlyRenderVisibleElements,B=t.elementsSelectable,T=t.selectNodesOnDrag,H=t.translateExtent,Y=t.minZoom,p=t.maxZoom,_=t.defaultZoom,S=t.defaultPosition,M=t.preventScrolling,$=t.defaultMarkerColor,k=t.zoomOnScroll,A=t.zoomOnPinch,I=t.panOnScroll,j=t.panOnScrollSpeed,L=t.panOnScrollMode,V=t.zoomOnDoubleClick,U=t.panOnDrag,Z=t.onPaneClick,z=t.onPaneScroll,F=t.onPaneContextMenu,G=t.onEdgeUpdate,X=t.onEdgeContextMenu,ie=t.onEdgeMouseEnter,fe=t.onEdgeMouseMove,Ne=t.onEdgeMouseLeave,Ae=t.edgeUpdaterRadius,xt=t.onEdgeUpdateStart,Je=t.onEdgeUpdateEnd,He=t.noDragClassName,et=t.noWheelClassName,Xe=t.noPanClassName,Ye=t.elevateEdgesOnSelect,tt=t.id;return ah(s),N(Lf,{onPaneClick:Z,onPaneContextMenu:F,onPaneScroll:z,deleteKeyCode:x,selectionKeyCode:y,multiSelectionKeyCode:C,zoomActivationKeyCode:P,elementsSelectable:B,onMove:r,onMoveStart:i,onMoveEnd:a,zoomOnScroll:k,zoomOnPinch:A,zoomOnDoubleClick:V,panOnScroll:I,panOnScrollSpeed:j,panOnScrollMode:L,panOnDrag:U,translateExtent:H,minZoom:Y,maxZoom:p,defaultZoom:_,defaultPosition:S,onSelectionContextMenu:w,preventScrolling:M,noDragClassName:He,noWheelClassName:et,noPanClassName:Xe,children:Q(ih,{children:[N(oh,{edgeTypes:o,onEdgeClick:u,onEdgeDoubleClick:d,connectionLineType:m,connectionLineStyle:O,connectionLineComponent:E,connectionLineContainerStyle:v,onEdgeUpdate:G,onlyRenderVisibleElements:D,onEdgeContextMenu:X,onEdgeMouseEnter:ie,onEdgeMouseMove:fe,onEdgeMouseLeave:Ne,onEdgeUpdateStart:xt,onEdgeUpdateEnd:Je,edgeUpdaterRadius:Ae,defaultMarkerColor:$,noPanClassName:Xe,elevateEdgesOnSelect:!!Ye,rfId:tt}),N(Yf,{nodeTypes:n,onNodeClick:l,onNodeDoubleClick:c,onNodeMouseEnter:f,onNodeMouseMove:h,onNodeMouseLeave:g,onNodeContextMenu:b,selectNodesOnDrag:T,onlyRenderVisibleElements:D,noPanClassName:Xe,noDragClassName:He})]})})};fa.displayName="GraphView";var sh=ee(fa),ha=function(){return null};ha.displayName="GroupNode";function ga(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,o)}return n}function va(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ga(Object(n),!0).forEach(function(o){W(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ga(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}var Yt=function(e){var t=function(o){var r=o.id,i=o.type,a=o.data,s=o.xPos,l=o.yPos,u=o.selected,c=o.onClick,d=o.onMouseEnter,f=o.onMouseMove,h=o.onMouseLeave,g=o.onContextMenu,b=o.onDoubleClick,w=o.style,m=o.className,O=o.isDraggable,E=o.isSelectable,v=o.isConnectable,y=o.selectNodesOnDrag,C=o.sourcePosition,P=o.targetPosition,x=o.hidden,D=o.resizeObserver,B=o.dragHandle,T=o.zIndex,H=o.isParent,Y=o.noPanClassName,p=o.noDragClassName,_=o.initialized,S=se(),M=oe(null),$=oe(C),k=oe(P),A=oe(i),I=E||O||c||d||f||h,j=It(r,S.getState,d),L=It(r,S.getState,f),V=It(r,S.getState,h),U=It(r,S.getState,g),Z=It(r,S.getState,b),z=function(X){if(E&&(!y||!O)&&ni({id:r,store:S}),c){var ie=S.getState().nodeInternals.get(r);c(X,va({},ie))}};te(function(){if(M.current&&!x){var G=M.current;return D==null||D.observe(G),function(){return D==null?void 0:D.unobserve(G)}}},[x]),te(function(){var G=A.current!==i,X=$.current!==C,ie=k.current!==P;M.current&&(G||X||ie)&&(G&&(A.current=i),X&&($.current=C),ie&&(k.current=P),S.getState().updateNodeDimensions([{id:r,nodeElement:M.current,forceUpdate:!0}]))},[r,i,C,P]);var F=na({nodeRef:M,disabled:x||!O,noDragClassName:p,handleSelector:B,nodeId:r,isSelectable:E,selectNodesOnDrag:y});return x?null:N("div",{className:he(["react-flow__node","react-flow__node-".concat(i),Y,m,{selected:u,selectable:E,parent:H}]),ref:M,style:va({zIndex:T,transform:"translate(".concat(s,"px,").concat(l,"px)"),pointerEvents:I?"all":"none",visibility:_?"visible":"hidden"},w),onMouseEnter:j,onMouseMove:L,onMouseLeave:V,onContextMenu:U,onClick:z,onDoubleClick:Z,"data-testid":"rf__node-".concat(r),"data-id":r,children:N(of,{value:r,children:N(e,{id:r,data:a,type:i,xPos:s,yPos:l,selected:u,isConnectable:v,sourcePosition:C,targetPosition:P,dragging:F,dragHandle:B,zIndex:T})})})};return t.displayName="NodeWrapper",ee(t)};function pa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,o)}return n}function ma(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pa(Object(n),!0).forEach(function(o){W(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pa(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function lh(e){var t={input:Yt(e.input||Bi),default:Yt(e.default||Co),output:Yt(e.output||Ii),group:Yt(e.group||ha)},n={},o=Object.keys(e).filter(function(r){return!["input","default","output","group"].includes(r)}).reduce(function(r,i){return r[i]=Yt(e[i]||Co),r},n);return ma(ma({},t),o)}function ya(e,t){oe(null);var n=St(function(){return t(e)},[e]);return n}function wa(e){if(!(!e||typeof document=="undefined")){var t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");t.appendChild(n),n.appendChild(document.createTextNode(e))}}var ba=function(t){var n=t.children,o=!0;try{se()}catch{o=!1}return o?N(st,{children:n}):N(kd,{createStore:$d,children:n})};ba.displayName="ReactFlowWrapper";var ch=["nodes","edges","defaultNodes","defaultEdges","className","nodeTypes","edgeTypes","onNodeClick","onEdgeClick","onInit","onMove","onMoveStart","onMoveEnd","onConnect","onConnectStart","onConnectStop","onConnectEnd","onClickConnectStart","onClickConnectStop","onClickConnectEnd","onNodeMouseEnter","onNodeMouseMove","onNodeMouseLeave","onNodeContextMenu","onNodeDoubleClick","onNodeDragStart","onNodeDrag","onNodeDragStop","onNodesDelete","onEdgesDelete","onSelectionChange","onSelectionDragStart","onSelectionDrag","onSelectionDragStop","onSelectionContextMenu","connectionMode","connectionLineType","connectionLineStyle","connectionLineComponent","connectionLineContainerStyle","deleteKeyCode","selectionKeyCode","multiSelectionKeyCode","zoomActivationKeyCode","snapToGrid","snapGrid","onlyRenderVisibleElements","selectNodesOnDrag","nodesDraggable","nodesConnectable","elementsSelectable","minZoom","maxZoom","defaultZoom","defaultPosition","translateExtent","preventScrolling","nodeExtent","defaultMarkerColor","zoomOnScroll","zoomOnPinch","panOnScroll","panOnScrollSpeed","panOnScrollMode","zoomOnDoubleClick","panOnDrag","onPaneClick","onPaneScroll","onPaneContextMenu","children","onEdgeUpdate","onEdgeContextMenu","onEdgeDoubleClick","onEdgeMouseEnter","onEdgeMouseMove","onEdgeMouseLeave","onEdgeUpdateStart","onEdgeUpdateEnd","edgeUpdaterRadius","onNodesChange","onEdgesChange","noDragClassName","noWheelClassName","noPanClassName","fitView","fitViewOptions","connectOnClick","attributionPosition","proOptions","defaultEdgeOptions","elevateEdgesOnSelect"];function Sa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,o)}return n}function Ea(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Sa(Object(n),!0).forEach(function(o){W(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sa(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}wa(vf),wa(mf);var uh={input:Bi,default:Co,output:Ii},dh={default:yo,straight:Mi,step:_i,smoothstep:mo,simplebezier:Ei},fh=[15,15],hh=[0,0],Ca=wi(function(e,t){var n=e.nodes,o=e.edges,r=e.defaultNodes,i=e.defaultEdges,a=e.className,s=e.nodeTypes,l=s===void 0?uh:s,u=e.edgeTypes,c=u===void 0?dh:u,d=e.onNodeClick,f=e.onEdgeClick,h=e.onInit,g=e.onMove,b=e.onMoveStart,w=e.onMoveEnd,m=e.onConnect,O=e.onConnectStart,E=e.onConnectStop,v=e.onConnectEnd,y=e.onClickConnectStart,C=e.onClickConnectStop,P=e.onClickConnectEnd,x=e.onNodeMouseEnter,D=e.onNodeMouseMove,B=e.onNodeMouseLeave,T=e.onNodeContextMenu,H=e.onNodeDoubleClick,Y=e.onNodeDragStart,p=e.onNodeDrag,_=e.onNodeDragStop,S=e.onNodesDelete,M=e.onEdgesDelete,$=e.onSelectionChange,k=e.onSelectionDragStart,A=e.onSelectionDrag,I=e.onSelectionDragStop,j=e.onSelectionContextMenu,L=e.connectionMode,V=L===void 0?gt.Strict:L,U=e.connectionLineType,Z=U===void 0?ke.Bezier:U,z=e.connectionLineStyle,F=e.connectionLineComponent,G=e.connectionLineContainerStyle,X=e.deleteKeyCode,ie=X===void 0?"Backspace":X,fe=e.selectionKeyCode,Ne=fe===void 0?"Shift":fe,Ae=e.multiSelectionKeyCode,xt=Ae===void 0?"Meta":Ae,Je=e.zoomActivationKeyCode,He=Je===void 0?"Meta":Je,et=e.snapToGrid,Xe=et===void 0?!1:et,Ye=e.snapGrid,tt=Ye===void 0?fh:Ye,Vt=e.onlyRenderVisibleElements,Dn=Vt===void 0?!1:Vt,Ft=e.selectNodesOnDrag,Ut=Ft===void 0?!0:Ft,kn=e.nodesDraggable,Ve=e.nodesConnectable,me=e.elementsSelectable,ye=e.minZoom,nt=ye===void 0?.5:ye,ot=e.maxZoom,ze=ot===void 0?2:ot,rt=e.defaultZoom,$n=rt===void 0?1:rt,it=e.defaultPosition,An=it===void 0?hh:it,Zt=e.translateExtent,Te=Zt===void 0?oo:Zt,Kt=e.preventScrolling,Ta=Kt===void 0?!0:Kt,Ba=e.nodeExtent,ko=e.defaultMarkerColor,Ra=ko===void 0?"#b1b1b7":ko,$o=e.zoomOnScroll,Ia=$o===void 0?!0:$o,Ao=e.zoomOnPinch,ja=Ao===void 0?!0:Ao,zo=e.panOnScroll,La=zo===void 0?!1:zo,To=e.panOnScrollSpeed,Ha=To===void 0?.5:To,Bo=e.panOnScrollMode,Xa=Bo===void 0?vt.Free:Bo,Ro=e.zoomOnDoubleClick,Ya=Ro===void 0?!0:Ro,Io=e.panOnDrag,Va=Io===void 0?!0:Io,Fa=e.onPaneClick,Ua=e.onPaneScroll,Za=e.onPaneContextMenu,Ka=e.children,Wa=e.onEdgeUpdate,Ga=e.onEdgeContextMenu,qa=e.onEdgeDoubleClick,Qa=e.onEdgeMouseEnter,Ja=e.onEdgeMouseMove,es=e.onEdgeMouseLeave,ts=e.onEdgeUpdateStart,ns=e.onEdgeUpdateEnd,jo=e.edgeUpdaterRadius,os=jo===void 0?10:jo,rs=e.onNodesChange,is=e.onEdgesChange,Lo=e.noDragClassName,as=Lo===void 0?"nodrag":Lo,Ho=e.noWheelClassName,ss=Ho===void 0?"nowheel":Ho,Xo=e.noPanClassName,ls=Xo===void 0?"nopan":Xo,Yo=e.fitView,cs=Yo===void 0?!1:Yo,us=e.fitViewOptions,Vo=e.connectOnClick,ds=Vo===void 0?!0:Vo,fs=e.attributionPosition,hs=e.proOptions,gs=e.defaultEdgeOptions,Fo=e.elevateEdgesOnSelect,vs=Fo===void 0?!1:Fo,Wt=io(e,ch),ps=ya(l,lh),ms=ya(c,bf);return N("div",Qt(lt({},Ea(Ea({},Wt),{},{ref:t,className:he(["react-flow",a])})),{children:Q(ba,{children:[N(sh,{onInit:h,onMove:g,onMoveStart:b,onMoveEnd:w,onNodeClick:d,onEdgeClick:f,onNodeMouseEnter:x,onNodeMouseMove:D,onNodeMouseLeave:B,onNodeContextMenu:T,onNodeDoubleClick:H,nodeTypes:ps,edgeTypes:ms,connectionLineType:Z,connectionLineStyle:z,connectionLineComponent:F,connectionLineContainerStyle:G,selectionKeyCode:Ne,deleteKeyCode:ie,multiSelectionKeyCode:xt,zoomActivationKeyCode:He,onlyRenderVisibleElements:Dn,selectNodesOnDrag:Ut,translateExtent:Te,minZoom:nt,maxZoom:ze,defaultZoom:$n,defaultPosition:An,preventScrolling:Ta,zoomOnScroll:Ia,zoomOnPinch:ja,zoomOnDoubleClick:Ya,panOnScroll:La,panOnScrollSpeed:Ha,panOnScrollMode:Xa,panOnDrag:Va,onPaneClick:Fa,onPaneScroll:Ua,onPaneContextMenu:Za,onSelectionContextMenu:j,onEdgeUpdate:Wa,onEdgeContextMenu:Ga,onEdgeDoubleClick:qa,onEdgeMouseEnter:Qa,onEdgeMouseMove:Ja,onEdgeMouseLeave:es,onEdgeUpdateStart:ts,onEdgeUpdateEnd:ns,edgeUpdaterRadius:os,defaultMarkerColor:Ra,noDragClassName:as,noWheelClassName:ss,noPanClassName:ls,elevateEdgesOnSelect:vs,id:Wt==null?void 0:Wt.id}),N(hf,{nodes:n,edges:o,defaultNodes:r,defaultEdges:i,onConnect:m,onConnectStart:O,onConnectStop:E,onConnectEnd:v,onClickConnectStart:y,onClickConnectStop:C,onClickConnectEnd:P,nodesDraggable:kn,nodesConnectable:Ve,elementsSelectable:me,minZoom:nt,maxZoom:ze,nodeExtent:Ba,onNodesChange:rs,onEdgesChange:is,snapToGrid:Xe,snapGrid:tt,connectionMode:V,translateExtent:Te,connectOnClick:ds,defaultEdgeOptions:gs,fitView:cs,fitViewOptions:us,onNodesDelete:S,onEdgesDelete:M,onNodeDragStart:Y,onNodeDrag:p,onNodeDragStop:_,onSelectionDrag:A,onSelectionDragStart:k,onSelectionDragStop:I}),$&&N(df,{onSelectionChange:$}),Ka,N(Wd,{proOptions:hs,position:fs})]})}))});Ca.displayName="ReactFlow";function ue(e,t,n){return t=gh(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gh(e){var t=vh(e,"string");return typeof t=="symbol"?t:String(t)}function vh(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var o=n.call(e,t||"default");if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Oa{constructor(t){ue(this,"data",{type:"default"}),ue(this,"setData",n=>{this.data=n,this.onChangeType()}),ue(this,"onChangeType",()=>{switch(this.data.type){case"conditions":this.style.width=400;break;case"node":this.style.width=150;break;case"params":this.style.width=320;break}}),ue(this,"id",Uo()),ue(this,"position",{x:30,y:150}),ue(this,"sort",0),ue(this,"endNode",""),ue(this,"targetPosition",R.Left),ue(this,"sourcePosition",R.Right),ue(this,"style",{width:36,height:36,padding:0}),ue(this,"prevNode",new Map),ue(this,"nextNode",new Map),ue(this,"edges",new Map),we.assign(this,t),this.onChangeType()}}Object.assign(Oa.prototype,{add_prevNode_store:function(e){this.prevNode.set(e.id,e)},delete_prevNode_store:function(e){this.prevNode.delete(e.id)},add_nextNode_store:function(e){this.nextNode.set(e.id,e)},delete_nextNode_store:function(e){this.nextNode.delete(e.id)},add_edges_store:function(e){this.edges.set(e.id,e)},delete_edges_store:function(e){this.edges.delete(e.id)}});function Oe(e,t,n){return t=ph(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ph(e){var t=mh(e,"string");return typeof t=="symbol"?t:String(t)}function mh(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var o=n.call(e,t||"default");if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class yh{constructor(t){Oe(this,"notDel",!1),Oe(this,"id",Uo()),Oe(this,"source",""),Oe(this,"target",""),Oe(this,"label","-"),Oe(this,"style",{stroke:"var(--color-text-3)",strokeWidth:1}),Oe(this,"labelBgBorderRadius",12),Oe(this,"labelStyle",{fill:"var(--color-text-3)",fontSize:"20px"}),Oe(this,"labelBgStyle",{transform:"translate(0px, 8px)",stroke:"var(--color-text-3)",strokeWidth:1,fill:"var(--color-bg-2)",width:"15px",height:"15px"}),Oe(this,"animated",!0),we.assign(this,t),this.notDel&&we.assign(this,{label:void 0,labelBgStyle:void 0})}}var xe,xa,Na,Pa,_a,Ma,Da,ka,$a;function je(e,t,n,o){!n||Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(o):void 0})}function de(e,t,n){return t=wh(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wh(e){var t=bh(e,"string");return typeof t=="symbol"?t:String(t)}function bh(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var o=n.call(e,t||"default");if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Le(e,t,n,o,r){var i={};return Object.keys(o).forEach(function(a){i[a]=o[a]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(a,s){return s(e,t,a)||a},i),r&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(r):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(e,t,i),i=null),i}const Sh=30,Eh=150,Aa=80,Ch=80;let _o={},Oh=(xe=class{constructor({nodeList:t,outParams:n,mode:o}){de(this,"mode","any"),de(this,"node",new Map),je(this,"nodes",xa,this),de(this,"dagreGraph",void 0),de(this,"nodeList",[]),de(this,"outParams",[]),je(this,"resetNodes",Na,this),de(this,"traverseOffsetH",(r,i)=>{let a=0;r.forEach(s=>{if(s.prevNode.size===1&&(s.position.y=a+s.nodeHeight/2+i,a+=s.nodeHeight),s.endNode){const l=this.node.get(s.endNode);l&&(l.position.y=s.position.y)}this.traverseOffsetH(Array.from(s.nextNode.values()).sort((l,u)=>l.sort-u.sort),s.position.y-s.nodeHeight/2)})}),de(this,"traverseNodes",(r,i=0)=>{var a,s;if(!r||_o[r.id])return 0;_o[r.id]=!0;let l=0;const u=Array.from(r.nextNode.values()).sort((f,h)=>f.sort-h.sort),c=(a=r.style)==null?void 0:a.width;let d=c;for(let f=0;f<u.length;f++){const h=u[f];d=Math.max((s=h.style)==null?void 0:s.width,d),h.prevNode.size===1&&(l+=this.traverseNodes(h,i+Aa+c))}return r.endNode&&(l=Math.max(l,this.traverseNodes(this.node.get(r.endNode),i+Aa*3+d))),r.nodeHeight=l||Ch,r.position={x:Sh+i,y:Eh},this.traverseOffsetH(u,r.position.y-r.nodeHeight/2),r.nodeHeight}),je(this,"getLayoutedElements",Pa,this),je(this,"setNodes",_a,this),de(this,"edge",new Map),je(this,"edges",Ma,this),je(this,"setEdges",Da,this),de(this,"onChangeNodeValues",(r,i)=>{const a=this.node.get(r);a.data=i,this.setNodes(Array.from(this.node.values()))}),de(this,"addNodeElement",r=>{const i=new Oa(r);return this.setNodes(we.concat(...this.nodes,i)),i}),je(this,"addEdgeElement",ka,this),de(this,"deleteEdgeElement",(r,i=!0)=>{this.edge.delete(r.id);const a=this.node.get(r.target),s=this.node.get(r.source);if(a.delete_edges_store(r),a.delete_prevNode_store(s),!a.prevNode.size){const l=Array.from(a.edges.values());for(const u of l)this.deleteEdgeElement(u,!1);this.node.delete(a.id)}i&&this.setNodes(Array.from(this.node.values())),s.delete_edges_store(r),s.delete_nextNode_store(a),this.setEdges(Array.from(this.edge.values()))}),de(this,"onEdgeClick",(r,i)=>{this.deleteEdgeElement(i)}),je(this,"setSaveData",$a,this),de(this,"getSaveData",()=>({nodes:this.nodes.map(r=>we.pick(r,["id","sort","data","endNode"])),edges:this.edges.map(r=>we.pick(r,["source","target","notDel"]))})),this.outParams=n||[],this.nodeList=t||[],o&&(this.mode=o),this.resetNodes()}},xa=Le(xe.prototype,"nodes",[Zo],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Na=Le(xe.prototype,"resetNodes",[at],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{switch(this.nodes=[],this.edges=[],this.mode){case"any":this.addNodeElement({data:{type:"start"},id:"1"}),this.addNodeElement({id:"2"}),this.addEdgeElement({source:"1",target:"2"});break;case"judge":this.addNodeElement({data:{type:"conditions"}});break}}}}),Pa=Le(xe.prototype,"getLayoutedElements",[at],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>(this.dagreGraph.setGraph({rankdir:"LR"}),e.sort((t,n)=>t.sort-n.sort).forEach(t=>{const{width:n,height:o}=t.style;this.dagreGraph.setNode(t.id,{width:n,height:o})}),this.edges.forEach(t=>{this.dagreGraph.setEdge(t.source,t.target)}),e.map(t=>{const{width:n,height:o}=t.style,r=this.dagreGraph.node(t.id);return t.position={x:r.x-n/2+10,y:r.y-o/2},t}))}}),_a=Le(xe.prototype,"setNodes",[at],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{const t=new Map;we.every(e,n=>t.set(n.id,n)),this.nodes=e,this.node=t}}}),Ma=Le(xe.prototype,"edges",[Zo],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Da=Le(xe.prototype,"setEdges",[at],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.edges=e;const t=new Map;we.every(e,r=>t.set(r.id,r)),this.edge=t;const n=[...this.nodes],o=n.find(r=>!r.prevNode.size);_o={},this.traverseNodes(o),this.nodes=n}}}),ka=Le(xe.prototype,"addEdgeElement",[at],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{const t=new yh(e),n=this.node.get(t.target),o=this.node.get(t.source);if(Array.from(o.edges.values()).some(r=>r.target===t.target)){ws.error("\u5F53\u524D\u94FE\u63A5\u7EBF\u5DF2\u7ECF\u5B58\u5728\uFF0C\u4E0D\u80FD\u91CD\u590D\u6DFB\u52A0");return}n.add_edges_store(t),n.add_prevNode_store(o),o.add_edges_store(t),o.add_nextNode_store(n),this.setEdges(we.concat(this.edges,t))}}}),$a=Le(xe.prototype,"setSaveData",[at],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{const{nodes:t,edges:n}=e;if(t&&n){this.nodes=[],this.edges=[];for(const o of t)this.addNodeElement(o);for(const o of n)this.addEdgeElement(o)}}}}),xe);const Mn=window.React,xh=window.React.memo,Mo=window.React.useMemo,Nh=window.React.useState,Ph=({store:e,flowStore:t})=>{const[n,o]=Nh(()=>e.data),[r,i,a]=Mo(()=>[Array.from(e.nextNode.values()),Array.from(e.prevNode.values()),Array.from(e.edges.values())],[]),s=c=>{const d=we.assign({},n,c);o(d),e.setData(d)},l=Mo(()=>t.mode==="judge"?null:Q(Fe,{children:[Q(Fe.Item,{onClick:()=>{s({type:"and"})},children:[N(Pe,{type:"icon-and"}),"\u4E0E\u6761\u4EF6\uFF08and\uFF09"]},"1"),Q(Fe.Item,{onClick:()=>{s({type:"or"})},children:[N(Pe,{type:"icon-or"}),"\u6216\u6761\u4EF6\uFF08or)"]},"2"),Q(Fe.Item,{onClick:()=>{s({type:"if"})},children:[N(Pe,{type:"icon-if"}),"\u6761\u4EF6\uFF08elseIf)"]},"3"),N(Fe.Item,{onClick:()=>{s({type:"conditions"});const c=t.addNodeElement({});t.addEdgeElement({source:e.id,target:c.id,notDel:!0})},children:"\u53C2\u6570\u5224\u65AD"},"4"),N(Fe.Item,{onClick:()=>{s({type:"node"});const c=t.addNodeElement({});t.addEdgeElement({source:e.id,target:c.id,notDel:!0})},children:"\u8F93\u51FA\u8282\u70B9"},"4"),N(Fe.Item,{onClick:()=>{s({type:"params"});const c=t.addNodeElement({});t.addEdgeElement({source:e.id,target:c.id,notDel:!0})},children:"\u8F93\u51FA\u5185\u5BB9"},"4")]}),[]),u=Mo(()=>{switch(n.type){case"and":case"or":case"if":case"start":return Q(Mn.Fragment,{children:[N(Ue,{className:"node-add-top",shape:"circle",icon:N(Pe,{type:"icon-tianjia"}),onClick:()=>{if(["and","or"].includes(n.type)){const d=t.addNodeElement({data:{type:"conditions"},sort:-Date.now()});if(t.addEdgeElement({source:e.id,target:d.id}),t.mode!=="judge"){if(!t.node.has(e.endNode)){const f=t.addNodeElement({});e.endNode=f.id}t.addEdgeElement({source:d.id,target:e.endNode,notDel:!0})}}else{const d=t.addNodeElement({sort:-Date.now()});t.addEdgeElement({source:e.id,target:d.id})}}}),N(Ue,{shape:"circle",icon:N(Pe,{type:`icon-${n.type}`}),onClick:()=>{["and","or"].includes(n.type)&&s({type:n.type==="and"?"or":"and"})}}),N(Ue,{className:"node-add-bottom",shape:"circle",icon:N(Pe,{type:"icon-tianjia"}),onClick:()=>{if(["and","or"].includes(n.type)){const d=t.addNodeElement({data:{type:"conditions"},sort:Date.now()});if(t.addEdgeElement({source:e.id,target:d.id}),t.mode!=="judge"){if(!t.node.has(e.endNode)){const f=t.addNodeElement({});e.endNode=f.id}t.addEdgeElement({source:d.id,target:e.endNode,notDel:!0})}}else{const d=t.addNodeElement({sort:Date.now()});t.addEdgeElement({source:e.id,target:d.id})}}})]});case"default":return N(Es,{droplist:l,trigger:"hover",position:"top",children:N(Ue,{shape:"circle",icon:N(Pe,{type:"icon-tianjia"})})});case"conditions":const c=()=>{switch(n.toType){case"number":return N(Os,{value:n.endParams,onChange:d=>s({endParams:d}),placeholder:"\u8BF7\u8F93\u5165"});case"boolean":return N(Cs,{checked:n.endParams,onChange:d=>s({endParams:!n.endParams})});default:return N(Gt,{placeholder:"\u8BF7\u8F93\u5165",value:n.endParams,onChange:d=>s({endParams:d})})}};return Q(Mn.Fragment,{children:[N(Ue,{className:"node-add-or",shape:"circle",icon:N(Pe,{type:"icon-or"}),onClick:()=>{e.style.width=36,s({type:"or"});const d=t.addNodeElement({data:{type:"conditions"}});if(t.addEdgeElement({source:e.id,target:d.id}),t.mode!=="judge"){const f=a.find(h=>h.source===e.id);t.addEdgeElement({source:d.id,target:f==null?void 0:f.target,notDel:!0}),e.endNode=f.target,t.deleteEdgeElement(f)}}}),Q(bs,{style:{display:"flex"},size:"mini",children:[N(Gt,{placeholder:"\u8BF7\u9009\u62E9\u53C2\u6570",value:n.toParams,readOnly:!0,title:n.toParams,addAfter:N(zn,{onChange:d=>{s({toParams:d.value,toType:"string"})}})}),n.toType==="array"&&N(J,{showSearch:!0,style:{width:80},value:n.arrayFun,onChange:d=>{s({arrayFun:d})},children:N(J.Option,{value:"length",children:"length"})}),Q(J,{showSearch:!0,style:{width:80},value:n.operator||"=",onChange:d=>s({operator:d}),children:[N(J.Option,{value:"=",children:"="}),N(J.Option,{value:"!=",children:"!="}),N(J.Option,{value:">",children:">"}),N(J.Option,{value:">=",children:">="}),N(J.Option,{value:"<",children:"<"}),N(J.Option,{value:"<=",children:"<="}),N(J.Option,{value:"!",children:"\u53D6\u6B63"}),N(J.Option,{value:"!!",children:"\u53D6\u53CD"}),N(J.Option,{value:"link",children:"\u6A21\u7CCA\u5339\u914D"})]}),c(),N(zn,{onChange:d=>{s({endParams:d.value,toType:"none"})},children:N(Ue,{icon:N(Ss,{})})})]}),N(Ue,{className:"node-add-and",shape:"circle",icon:N(Pe,{type:"icon-and"}),onClick:()=>{e.style.width=36,s({type:"and"});const d=t.addNodeElement({data:{type:"conditions"}});if(t.addEdgeElement({source:e.id,target:d.id}),t.mode!=="judge"){const f=a.find(h=>h.source===e.id);t.addEdgeElement({source:d.id,target:f==null?void 0:f.target,notDel:!0}),e.endNode=f.target,t.deleteEdgeElement(f)}}})]});case"node":return N(J,{showSearch:!0,placeholder:"\u8BF7\u9009\u62E9\u4E0B\u4E00\u8282\u70B9\u5206\u652F",value:n.nodeId,onChange:d=>s({nodeId:d}),children:t.nodeList.map(d=>N(J.Option,{value:d.id,children:`${d.id}:${d.data.node_name}`},d.id))});case"params":return Q("div",{style:{display:"flex",alignItems:"center",width:"100%"},children:[Q(J,{showSearch:!0,placeholder:"\u8BF7\u9009\u62E9\u5B57\u6BB5",value:n.outParams,onChange:d=>s({outParams:d,outValue:void 0}),children:[N(J.Option,{value:"status",children:"\u72B6\u6001"}),t.outParams.map((d,f)=>N(J.Option,{value:d.name,children:d.label||d.name},f))]}),N("span",{style:{margin:"0 8px"},children:" = "}),n.outParams==="status"?Q(Mn.Fragment,{children:[Q(J,{placeholder:"\u8BF7\u9009\u62E9\u72B6\u6001",value:n.outValue,onChange:d=>s({outValue:d}),children:[N(J.Option,{value:"2",children:"\u6210\u529F"}),N(J.Option,{value:"1",children:"\u5931\u8D25"})]}),N(Gt,{placeholder:"\u72B6\u6001\u63D0\u793A",value:n.message,onChange:d=>s({message:d})})]}):N(Gt,{placeholder:"\u8BF7\u9009\u62E9\u53C2\u6570",value:n.outValue,title:n.outValue,onChange:d=>s({outValue:d}),addAfter:N(zn,{onChange:d=>{s({outValue:d.value,toType:"string"})}})})]});default:return N("span",{children:"\u672A\u77E5"})}},[n]);return N("div",{className:"node-loabel-view",children:u})},_h=xh(e=>Q(Mn.Fragment,{children:[e.store&&N(Ph,lt({},e)),N(Et,{type:"target",position:R.Left}),N(Et,{type:"source",position:R.Right})]})),Mh=window.React,Dh=window.React.forwardRef,Do=window.React.useEffect,kh=window.React.useImperativeHandle,za=window.React.useState,Th=Dh((e,t)=>{var n=e,{store:o,nodeList:r,outParams:i}=n,a=_s(n,["store","nodeList","outParams"]);const[s]=za(()=>o||new Oh({})),[l,u]=za(()=>!1);return Do(()=>{Array.isArray(r)&&(s.nodeList=r)},[r]),Do(()=>{Array.isArray(i)&&(s.outParams=i)},[i]),kh(t,()=>({setData:s.setSaveData,getData:s.getSaveData}),[]),Do(()=>{setTimeout(()=>{u(!0)},300)},[]),s?ys(()=>N(Mh.Fragment,{children:N(Ca,Qt(lt({className:"conditions-devlopment-tool",nodes:s.nodes,edges:s.edges,connectionLineType:ke.Bezier,elementsSelectable:!0,nodeTypes:{default:c=>N(_h,{store:s.node.get(c.id),flowStore:s})},onEdgeClick:s.onEdgeClick},a),{children:N(Fd,{})}))})):null});export{Th as default};
