import{k as jsxs,q as jsx,ad as Button$4,c9 as IconCodeBlock$1,b6 as Modal$1,b5 as Message$1,ca as MonacoJSEditor}from"./index.5ee88792.js";import"./vendor.0b417fb8.js";var __defProp=Object.defineProperty,__defProps=Object.defineProperties,__getOwnPropDescs=Object.getOwnPropertyDescriptors,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp=(r,e,s)=>e in r?__defProp(r,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):r[e]=s,__spreadValues=(r,e)=>{for(var s in e||(e={}))__hasOwnProp.call(e,s)&&__defNormalProp(r,s,e[s]);if(__getOwnPropSymbols)for(var s of __getOwnPropSymbols(e))__propIsEnum.call(e,s)&&__defNormalProp(r,s,e[s]);return r},__spreadProps=(r,e)=>__defProps(r,__getOwnPropDescs(e));const useEffect=window.React.useEffect,useRef=window.React.useRef,useState=window.React.useState;function EditFunction(props){const[visible,setVisible]=useState(!1),[value,setValue]=useState(props.value),ref=useRef();return useEffect(()=>{setValue(value)},[props.value]),jsxs("div",{children:[jsx(Button$4,{shape:"round",type:"primary",icon:jsx(IconCodeBlock$1,{}),disabled:props.disabled,onClick:()=>{setVisible(!0)},children:"\u7F16\u8F91"}),jsx(Modal$1,{visible,title:"\u51FD\u6570\u7F16\u8F91",focusLock:!1,style:{width:800},onCancel:()=>{setVisible(!1)},onConfirm:()=>{if(props.onChange)if(value)try{const fun=eval(value);typeof fun=="function"?(setVisible(!1),props.onChange(value)):Message$1.error("\u8BF7\u8F93\u5165\u6B63\u786E\u7684\u51FD\u6570")}catch{Message$1.error("\u8BF7\u8F93\u5165\u6B63\u786E\u7684\u51FD\u6570")}else props.onChange(value),setVisible(!1);else setVisible(!1)},children:jsx(MonacoJSEditor,__spreadProps(__spreadValues({},props),{selectionVariable:!0,ref,value,onChange:setValue}))})]})}export{EditFunction as default};
